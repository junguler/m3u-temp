<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <link rel="shortcut icon" href="/images/fmcube-logo-05x.png" type="image/png">
  
  <title>ChilloutFM Radio: listen online</title>
    <meta name="description" content="Radio ChilloutFM: Listen Online Live for Free. Country: Russia. Station in genres Electronic, Relax, Easy listening, Yoga, Spa, Meditation">
    <meta property="og:title" content="ChilloutFM Radio: listen online"/>
    <meta property="og:description" content="Radio ChilloutFM: Listen Online Live for Free. Country: Russia. Station in genres Electronic, Relax, Easy listening, Yoga, Spa, Meditation"/>
    <meta property="og:type" content="music.radio_station" />
  <meta property="og:image" content="https://fmcube.net/images/stations/og/6539a85988bd9.jpg"/>
            
  <meta property="og:url" content="https://fmcube.net/radio/chilloutfm" />

  <link rel="canonical" href="https://fmcube.net/radio/chilloutfm"/> 
  <!--
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i&amp;subset=cyrillic-ext" rel="stylesheet">
  -->
  <link rel="stylesheet" href="/frontend/web/css/bootstrap-rating.css">
  <link rel="stylesheet" href="/frontend/web/css/select2.css">
  <link rel="stylesheet" href="/frontend/web/css/jquery.formstyler.css">
  <link rel="stylesheet" href="/frontend/web/css/jquery.formstyler.theme.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
  <link href="/assets/62507aa5/css/bootstrap.css" rel="stylesheet">
<link href="/css/site_25.css" rel="stylesheet">  <link rel="stylesheet" href="/frontend/web/css/loader.css">
  <script>
    if ( /^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {
      if(!/iPhone|iPad|iPod/i.test(navigator.userAgent)){
        var link = document.createElement( "link" );
        link.href = "/frontend/web/css/safari.css";
        link.rel = "stylesheet";
        document.getElementsByTagName( "head" )[0].appendChild( link );
      }
    }
  </script>
</head>
<body 
  
>


<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(46837551, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/46837551" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->




<div id='overflow' style='position: fixed;width: 100%;height: 100%;left: 0;top: 0;background:rgba(255, 255, 255, 0.7);z-index: 100000000;'></div>
<div class="ajax-big-loader"></div>

    <div class="alert-block success">
      <!--<img class="icon" alt="" src="/images/success-action.png">-->
      <span></span>
      <img class="icon-close-alert" alt="" src="/images/icon-close-w.png">
    </div>
    <div class="alert-block fail">
      <!--<img class="icon" alt="" src="/images/fail-action.png">-->
      <span></span>
      <img class="icon-close-alert" alt="" src="/images/icon-close-w.png">
    </div>
<div id='body-inner'>


<div class='wrap'> 
  <div class="container">


  <div class='dropdown-country-list dropdown-mainmenu-list'>
      <img alt='' class='dropdown-window-close' src='/images/modal-close.png'>
      <input class='country-search' type='text'><div class='country-search-img'></div>
      <div class='contry-sorting'>
          <div class='country-sort-item active' data-sort='popular'>Popular</div>
          <div class='country-sort-item' data-sort='alpha'>Alphabet</div>
      </div>
      <div class='dropdown-top-block dropdown-control-block'>
        <img alt="" src="/images/arrow-left-big.png">
      </div>
      <div class='dropdown-list-inner'>
      <div class='genge-link ' data-pop='0'><a href='/strana/russia'>Russia <span class='genre-stations-count'>67652055</span></a></div><div class='genge-link ' data-pop='1'><a href='/strana/germany'>Germany <span class='genre-stations-count'>10835188</span></a></div><div class='genge-link ' data-pop='2'><a href='/strana/usa'>USA <span class='genre-stations-count'>3284801</span></a></div><div class='genge-link ' data-pop='3'><a href='/strana/belarus'>Belarus <span class='genre-stations-count'>1001670</span></a></div><div class='genge-link ' data-pop='4'><a href='/strana/france'>France <span class='genre-stations-count'>703257</span></a></div><div class='genge-link ' data-pop='5'><a href='/strana/united-kingdom'>United Kingdom <span class='genre-stations-count'>700915</span></a></div><div class='genge-link ' data-pop='6'><a href='/strana/spain'>Spain <span class='genre-stations-count'>611378</span></a></div><div class='genge-link ' data-pop='7'><a href='/strana/azerbaijan'>Azerbaijan <span class='genre-stations-count'>572780</span></a></div><div class='genge-link ' data-pop='8'><a href='/strana/switzerland'>Switzerland <span class='genre-stations-count'>448601</span></a></div><div class='genge-link ' data-pop='9'><a href='/strana/ukraine'>Ukraine <span class='genre-stations-count'>397845</span></a></div><div class='genge-link ' data-pop='10'><a href='/strana/israel'>Israel <span class='genre-stations-count'>317710</span></a></div><div class='genge-link ' data-pop='11'><a href='/strana/italy'>Italy <span class='genre-stations-count'>307612</span></a></div><div class='genge-link ' data-pop='12'><a href='/strana/estonia'>Estonia <span class='genre-stations-count'>237417</span></a></div><div class='genge-link ' data-pop='13'><a href='/strana/netherlands'>Netherlands <span class='genre-stations-count'>197353</span></a></div><div class='genge-link ' data-pop='14'><a href='/strana/poland'>Poland <span class='genre-stations-count'>196972</span></a></div><div class='genge-link ' data-pop='15'><a href='/strana/canada'>Canada <span class='genre-stations-count'>182594</span></a></div><div class='genge-link ' data-pop='16'><a href='/strana/india'>India <span class='genre-stations-count'>181969</span></a></div><div class='genge-link ' data-pop='17'><a href='/strana/kazakhstan'>Kazakhstan <span class='genre-stations-count'>178032</span></a></div><div class='genge-link ' data-pop='18'><a href='/strana/romania'>Romania <span class='genre-stations-count'>175562</span></a></div><div class='genge-link ' data-pop='19'><a href='/strana/brazil'>Brazil <span class='genre-stations-count'>173333</span></a></div><div class='genge-link ' data-pop='20'><a href='/strana/slovakia'>Slovakia <span class='genre-stations-count'>161965</span></a></div><div class='genge-link ' data-pop='21'><a href='/strana/czech-republic'>Czech Republic <span class='genre-stations-count'>142557</span></a></div><div class='genge-link ' data-pop='22'><a href='/strana/turkey'>Turkey <span class='genre-stations-count'>142144</span></a></div><div class='genge-link ' data-pop='23'><a href='/strana/greece'>Greece <span class='genre-stations-count'>124344</span></a></div><div class='genge-link ' data-pop='24'><a href='/strana/australia'>Australia <span class='genre-stations-count'>106827</span></a></div><div class='genge-link ' data-pop='25'><a href='/strana/armenia'>Armenia <span class='genre-stations-count'>93195</span></a></div><div class='genge-link ' data-pop='26'><a href='/strana/sweden'>Sweden <span class='genre-stations-count'>91801</span></a></div><div class='genge-link ' data-pop='27'><a href='/strana/moldova'>Moldova <span class='genre-stations-count'>87666</span></a></div><div class='genge-link ' data-pop='28'><a href='/strana/hungary'>Hungary <span class='genre-stations-count'>84962</span></a></div><div class='genge-link ' data-pop='29'><a href='/strana/latvia'>Latvia <span class='genre-stations-count'>78299</span></a></div><div class='genge-link ' data-pop='30'><a href='/strana/kyrgyzstan'>Kyrgyzstan <span class='genre-stations-count'>76297</span></a></div><div class='genge-link ' data-pop='31'><a href='/strana/norway'>Norway <span class='genre-stations-count'>74929</span></a></div><div class='genge-link ' data-pop='32'><a href='/strana/austria'>Austria <span class='genre-stations-count'>68548</span></a></div><div class='genge-link ' data-pop='33'><a href='/strana/belgium'>Belgium <span class='genre-stations-count'>60193</span></a></div><div class='genge-link ' data-pop='34'><a href='/strana/bulgaria'>Bulgaria <span class='genre-stations-count'>56866</span></a></div><div class='genge-link ' data-pop='35'><a href='/strana/finland'>Finland <span class='genre-stations-count'>53444</span></a></div><div class='genge-link ' data-pop='36'><a href='/strana/mexico'>Mexico <span class='genre-stations-count'>44945</span></a></div><div class='genge-link ' data-pop='37'><a href='/strana/lithuania'>Lithuania <span class='genre-stations-count'>39071</span></a></div><div class='genge-link ' data-pop='38'><a href='/strana/uzbekistan'>Uzbekistan <span class='genre-stations-count'>36325</span></a></div><div class='genge-link ' data-pop='39'><a href='/strana/japan'>Japan <span class='genre-stations-count'>28708</span></a></div><div class='genge-link ' data-pop='40'><a href='/strana/ireland'>Ireland <span class='genre-stations-count'>28339</span></a></div><div class='genge-link ' data-pop='41'><a href='/strana/serbia'>Serbia <span class='genre-stations-count'>27850</span></a></div><div class='genge-link ' data-pop='42'><a href='/strana/denmark'>Denmark <span class='genre-stations-count'>27106</span></a></div><div class='genge-link ' data-pop='43'><a href='/strana/sri-lanka'>Sri Lanka <span class='genre-stations-count'>26685</span></a></div><div class='genge-link ' data-pop='44'><a href='/strana/chile'>Chile <span class='genre-stations-count'>23908</span></a></div><div class='genge-link ' data-pop='45'><a href='/strana/portugal'>Portugal <span class='genre-stations-count'>23382</span></a></div><div class='genge-link ' data-pop='46'><a href='/strana/iran'>Iran <span class='genre-stations-count'>21089</span></a></div><div class='genge-link ' data-pop='47'><a href='/strana/dominican-republic'>Dominican Republic <span class='genre-stations-count'>18231</span></a></div><div class='genge-link ' data-pop='48'><a href='/strana/colombia'>Colombia <span class='genre-stations-count'>17903</span></a></div><div class='genge-link ' data-pop='49'><a href='/strana/georgia'>Georgia <span class='genre-stations-count'>16365</span></a></div><div class='genge-link ' data-pop='50'><a href='/strana/new-zealand'>New Zealand <span class='genre-stations-count'>13547</span></a></div><div class='genge-link ' data-pop='51'><a href='/strana/argentina'>Argentina <span class='genre-stations-count'>13000</span></a></div><div class='genge-link ' data-pop='52'><a href='/strana/thailand'>Thailand <span class='genre-stations-count'>11870</span></a></div><div class='genge-link ' data-pop='53'><a href='/strana/ecuador'>Ecuador <span class='genre-stations-count'>11330</span></a></div><div class='genge-link ' data-pop='54'><a href='/strana/slovenia'>Slovenia <span class='genre-stations-count'>10749</span></a></div><div class='genge-link ' data-pop='55'><a href='/strana/lebanon'>Lebanon <span class='genre-stations-count'>9696</span></a></div><div class='genge-link ' data-pop='56'><a href='/strana/croatia'>Croatia <span class='genre-stations-count'>8619</span></a></div><div class='genge-link ' data-pop='57'><a href='/strana/cyprus'>Cyprus <span class='genre-stations-count'>7686</span></a></div><div class='genge-link ' data-pop='58'><a href='/strana/peru'>Peru <span class='genre-stations-count'>7130</span></a></div><div class='genge-link ' data-pop='59'><a href='/strana/iceland'>Iceland <span class='genre-stations-count'>6600</span></a></div><div class='genge-link ' data-pop='60'><a href='/strana/singapore'>Singapore <span class='genre-stations-count'>6481</span></a></div><div class='genge-link ' data-pop='61'><a href='/strana/uae'>UAE <span class='genre-stations-count'>6334</span></a></div><div class='genge-link ' data-pop='62'><a href='/strana/bolivia'>Bolivia <span class='genre-stations-count'>6250</span></a></div><div class='genge-link ' data-pop='63'><a href='/strana/south-korea'>South Korea <span class='genre-stations-count'>6154</span></a></div><div class='genge-link ' data-pop='64'><a href='/strana/angola'>Angola <span class='genre-stations-count'>6112</span></a></div><div class='genge-link ' data-pop='65'><a href='/strana/indonesia'>Indonesia <span class='genre-stations-count'>5960</span></a></div><div class='genge-link ' data-pop='66'><a href='/strana/malta'>Malta <span class='genre-stations-count'>5894</span></a></div><div class='genge-link ' data-pop='67'><a href='/strana/albania'>Albania <span class='genre-stations-count'>5539</span></a></div><div class='genge-link ' data-pop='68'><a href='/strana/syria'>Syria <span class='genre-stations-count'>5295</span></a></div><div class='genge-link ' data-pop='69'><a href='/strana/china'>China <span class='genre-stations-count'>5210</span></a></div><div class='genge-link ' data-pop='70'><a href='/strana/haiti'>Haiti <span class='genre-stations-count'>5101</span></a></div><div class='genge-link ' data-pop='71'><a href='/strana/luxembourg'>Luxembourg <span class='genre-stations-count'>4746</span></a></div><div class='genge-link ' data-pop='72'><a href='/strana/bosnia-and-herzegovina'>Bosnia and Herzegovina <span class='genre-stations-count'>4718</span></a></div><div class='genge-link ' data-pop='73'><a href='/strana/jamaica'>Jamaica <span class='genre-stations-count'>4486</span></a></div><div class='genge-link ' data-pop='74'><a href='/strana/south-africa'>South Africa <span class='genre-stations-count'>4010</span></a></div><div class='genge-link ' data-pop='75'><a href='/strana/venezuela'>Venezuela <span class='genre-stations-count'>4005</span></a></div><div class='genge-link ' data-pop='76'><a href='/strana/namibia'>Namibia <span class='genre-stations-count'>3977</span></a></div><div class='genge-link ' data-pop='77'><a href='/strana/panama'>Panama <span class='genre-stations-count'>3976</span></a></div><div class='genge-link ' data-pop='78'><a href='/strana/cuba'>Cuba <span class='genre-stations-count'>3732</span></a></div><div class='genge-link ' data-pop='79'><a href='/strana/nigeria'>Nigeria <span class='genre-stations-count'>2867</span></a></div><div class='genge-link ' data-pop='80'><a href='/strana/tunisia'>Tunisia <span class='genre-stations-count'>2592</span></a></div><div class='genge-link ' data-pop='81'><a href='/strana/bangladesh'>Bangladesh <span class='genre-stations-count'>2514</span></a></div><div class='genge-link ' data-pop='82'><a href='/strana/philippines'>Philippines <span class='genre-stations-count'>2430</span></a></div><div class='genge-link ' data-pop='83'><a href='/strana/mongolia'>Mongolia <span class='genre-stations-count'>2401</span></a></div><div class='genge-link ' data-pop='84'><a href='/strana/saudi-arabia'>Saudi Arabia <span class='genre-stations-count'>2327</span></a></div><div class='genge-link ' data-pop='85'><a href='/strana/gibraltar'>Gibraltar <span class='genre-stations-count'>2243</span></a></div><div class='genge-link ' data-pop='86'><a href='/strana/malaysia'>Malaysia <span class='genre-stations-count'>2217</span></a></div><div class='genge-link ' data-pop='87'><a href='/strana/costa-rica'>Costa Rica <span class='genre-stations-count'>2119</span></a></div><div class='genge-link ' data-pop='88'><a href='/strana/uruguay'>Uruguay <span class='genre-stations-count'>1897</span></a></div><div class='genge-link ' data-pop='89'><a href='/strana/taiwan'>Taiwan <span class='genre-stations-count'>1867</span></a></div><div class='genge-link ' data-pop='90'><a href='/strana/macedonia'>Macedonia <span class='genre-stations-count'>1537</span></a></div><div class='genge-link ' data-pop='91'><a href='/strana/guatemala'>Guatemala <span class='genre-stations-count'>1436</span></a></div><div class='genge-link ' data-pop='92'><a href='/strana/morocco'>Morocco <span class='genre-stations-count'>1311</span></a></div><div class='genge-link ' data-pop='93'><a href='/strana/honduras'>Honduras <span class='genre-stations-count'>1217</span></a></div><div class='genge-link ' data-pop='94'><a href='/strana/kuwait'>Kuwait <span class='genre-stations-count'>1191</span></a></div><div class='genge-link ' data-pop='95'><a href='/strana/isle-of-man'>Isle of Man <span class='genre-stations-count'>1187</span></a></div><div class='genge-link ' data-pop='96'><a href='/strana/barbados'>Barbados <span class='genre-stations-count'>1169</span></a></div><div class='genge-link ' data-pop='97'><a href='/strana/ghana'>Ghana <span class='genre-stations-count'>1101</span></a></div>      </div>
      <div class='dropdown-bottom-block dropdown-control-block'>
        <img alt="" src="/images/arrow-right-big.png">
      </div>
    </div>

    
    <div class='dropdown-genres-list dropdown-mainmenu-list'>
      <img alt='' class='dropdown-window-close' src='/images/modal-close.png'>
      <input class='genre-search' type='text'><div class='genre-search-img'></div>
      <div class='genre-sorting'>
          <div class='genre-sort-item active' data-sort='popular'>Popular</div>
          <div class='genre-sort-item' data-sort='alpha'>Alphabet</div>
      </div>
      <div class='dropdown-top-block dropdown-control-block'>
        <img alt="" src="/images/arrow-left-big.png">
      </div>
      <div class='dropdown-list-inner'>
      <div class='genge-link ' data-pop='0'><a href='/zhanr/discography'>Discography <span class='genre-stations-count'>17318617</span></a></div><div class='genge-link ' data-pop='1'><a href='/zhanr/electronic'>Electronic <span class='genre-stations-count'>14195197</span></a></div><div class='genge-link ' data-pop='2'><a href='/zhanr/past-decades'>Past decades <span class='genre-stations-count'>13302445</span></a></div><div class='genge-link ' data-pop='3'><a href='/zhanr/rock'>Rock <span class='genre-stations-count'>11258428</span></a></div><div class='genge-link ' data-pop='4'><a href='/zhanr/pop'>Pop <span class='genre-stations-count'>10231918</span></a></div><div class='genge-link ' data-pop='5'><a href='/zhanr/dance'>Dance <span class='genre-stations-count'>8007802</span></a></div><div class='genge-link ' data-pop='6'><a href='/zhanr/relax-easy-listening'>Relax, Easy listening <span class='genre-stations-count'>5118637</span></a></div><div class='genge-link ' data-pop='7'><a href='/zhanr/rap-hip-hop-rnb'>Rap, Hip-hop, RnB <span class='genre-stations-count'>4598984</span></a></div><div class='genge-link ' data-pop='8'><a href='/zhanr/news-talk'>News, Talk <span class='genre-stations-count'>4363571</span></a></div><div class='genge-link ' data-pop='9'><a href='/zhanr/game-anime'>Game, Anime <span class='genre-stations-count'>2039138</span></a></div><div class='genge-link ' data-pop='10'><a href='/zhanr/adult-contemporary'>Adult Contemporary <span class='genre-stations-count'>1633913</span></a></div><div class='genge-link ' data-pop='11'><a href='/zhanr/jazz-blues-soul'>Jazz, Blues, Soul <span class='genre-stations-count'>1621657</span></a></div><div class='genge-link ' data-pop='12'><a href='/zhanr/russian-shanson'>Russian shanson <span class='genre-stations-count'>1522635</span></a></div><div class='genge-link ' data-pop='13'><a href='/zhanr/metal'>Metal <span class='genre-stations-count'>1350397</span></a></div><div class='genge-link ' data-pop='14'><a href='/zhanr/misc'>Misc <span class='genre-stations-count'>1227219</span></a></div><div class='genge-link ' data-pop='15'><a href='/zhanr/folk-ethnic'>Folk, Ethnic <span class='genre-stations-count'>980655</span></a></div><div class='genge-link ' data-pop='16'><a href='/zhanr/humor'>Humor <span class='genre-stations-count'>895319</span></a></div><div class='genge-link ' data-pop='17'><a href='/zhanr/religion'>Religion <span class='genre-stations-count'>742635</span></a></div><div class='genge-link ' data-pop='18'><a href='/zhanr/yoga-spa-meditation'>Yoga, Spa, Meditation <span class='genre-stations-count'>624108</span></a></div><div class='genge-link ' data-pop='19'><a href='/zhanr/audiobooks'>Audiobooks <span class='genre-stations-count'>601859</span></a></div><div class='genge-link ' data-pop='20'><a href='/zhanr/classical'>Classical <span class='genre-stations-count'>546112</span></a></div><div class='genge-link ' data-pop='21'><a href='/zhanr/childrens'>Children's <span class='genre-stations-count'>246949</span></a></div><div class='genge-link ' data-pop='22'><a href='/zhanr/funk-disco'>Funk, Disco <span class='genre-stations-count'>234513</span></a></div><div class='genge-link ' data-pop='23'><a href='/zhanr/indie'>Indie <span class='genre-stations-count'>171577</span></a></div><div class='genge-link ' data-pop='24'><a href='/zhanr/country-americana-bluegrass'>Country, Americana, Bluegrass <span class='genre-stations-count'>153089</span></a></div><div class='genge-link ' data-pop='25'><a href='/zhanr/ska-rocksteady-reggae'>Ska, Rocksteady, Reggae <span class='genre-stations-count'>62608</span></a></div><div class='genge-link ' data-pop='26'><a href='/zhanr/sports'>Sports <span class='genre-stations-count'>54641</span></a></div>      </div>
      <div class='dropdown-bottom-block dropdown-control-block'>
        <img alt="" src="/images/arrow-right-big.png">
      </div>
    </div>

    <div class='dropdown-search-window'>
       <img alt='' class='seach-window-close' src='/images/modal-close.png'>
       <div class="row global">
       <div class='col-md-12 mainbar'>
       <input type='text' class='total-search-input' placeholder='Title' data-ps='Title'>
       <div class='total-search-input-img'></div>
       <div class='full-list'>
      <div class='stations-list wo-controls total-search-results'>
       
       </div>
            </div>
            </div>
            </div>
    </div>


    <header>
      <div class='age-limit'>12+</div>
      <a class='mobile-favorite only-mobile' href="/favorites"><img alt='' src="/images/favor2.png"></a>
      <a class="search-button mobile-search-button only-mobile" href="/"><img alt='' src="/images/icon-search.png"></a>
    <nav id="w0" class="navbar navbar-default"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w0-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="/images/fmcube-logo.png" alt="" title="FMCUBE - free online radio"> <span class="big-logo-text">FMCUBE</span> <span class="small-logo-text">Radio online</span> </a></div><div id="w0-collapse" class="collapse navbar-collapse"><ul id="w1" class="navbar-nav nav"><li><a class="search-button" href="/"><img alt="" class="menu-icon" src="/images/icon-search.png">Search</a></li>
<li class="active"><a class="stsions-button" href="/radiostations"><img alt="" class="menu-icon" src="/images/icon-stations.png">Stations</a></li>
<li><a class="genres-list-button close-genres" href="/"><img alt="" class="menu-icon" src="/images/icon-genres.png">Genres<img alt="" class="menu-right" src="/images/caret-right.png"></a></li>
<li><a class="country-list-button close-countries" href="/"><img alt="" class="menu-icon" src="/images/icon-country.png">Countries<img alt="" class="menu-right" src="/images/caret-right.png"></a></li>
<li><a href="/favorites"><img alt="" class="menu-icon" src="/images/favor2.png">Favorited</a></li>
<li><a href="/recently"><img alt="" class="menu-icon" src="/images/icon-recently.png">Recently</a></li>
<li><a class="apps-list-item" href="/play-android.html"><img alt="" class="menu-icon" src="/images/icon-android.png">App Android</a></li>
<li><a class="user no-login-user menu-separator" href="/"><img alt="" class="menu-icon" src="/images/icon-user.png">Login</a></li></ul>
    </div></div></nav>    <!--
    <div class='right-part-header'>
      <a class='goto-favor' href='/favorites'><img alt='' src='/images/favor.png'></a>
      <span class='user no-login-user'>
         <img alt=''  src='/images/nouser.png'>
      </span>
          </div>
            -->

    </header>


<div id="loginBox" class="modal fade" data-backdrop="static" data-keyboard="false"></div>
<div id="signupBox" class="modal  fade" data-backdrop="static" data-keyboard="false"></div>
<div id="rememberBox" class="modal  fade" data-backdrop="static" data-keyboard="false"></div> 
<div id="letterBox" class="modal  fade"></div> 
<div id="dialogBox" class="modal fade" data-backdrop="static" data-keyboard="false"></div>
<div id="screenshotBox" class="modal  fade">
<div class="modal-dialog modal-dialog-centered">
  <div class="modal-content">
    <div class="modal-header">
      <button class="close" data-dismiss="modal" aria-hidden="true"><img alt='' src='/images/modal-close.png'></button>   
    </div>
    
    <div class="modal-body">
      <img alt='' src='/images/'>
    </div>
    <div class="modal-footer">
    </div> 
  </div>
</div>  
</div> 
<div id="deleteprofileBox" class="modal  fade">
<div class="modal-dialog modal-dialog-centered">
  <div class="modal-content">
    <div class="modal-header">
      <button class="close" data-dismiss="modal" aria-hidden="true"><img alt='' src='/images/modal-close.png'></button>   
      <h4 class="modal-title">Are you want to delete accaunt?</h4>
    </div>
    
    <div class="modal-body">
      <input class='current-password' type='hidden'>
    </div>
    <div class="modal-footer">
      <button class="delete-profile-confirm">Delete</button>
    </div> 
  </div>
</div>  
</div> 



        


<div class='row global station-page'>

<aside><div id='rightad'><div  class='only-desctop' ><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0184729216668333"
     crossorigin="anonymous"></script>
<!-- FM CUBE - Вертикальный -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0184729216668333"
     data-ad-slot="1098860413"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></div></aside>


<div class='col-md-12 mainbar'>

<aside><div id='topadvice'><div ><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0184729216668333"
     crossorigin="anonymous"></script>
<!-- FM CUBE - Горизонтальный -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0184729216668333"
     data-ad-slot="9231968473"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div></div></aside>

    <main style='position:relative;'>
    <article>

    <div class='station-header'>
        <img alt='' class='station-logo' src='/images/stations/6539a85988bd9.jpg'>
          <div class='station-title-wrapper'>
          <h1 class='station-title' data-title='ChilloutFM'>
          ChilloutFM Radio 
          </h1>
          <div class='cat-list'>
                        <a class='cat-in-list' href='/zhanr/electronic'>Electronic</a>
                                    <a class='cat-in-list' href='/strana/russia'>Russia</a>
          </div>
          </div>
      </div>

    <div class='station-block'>

      <aside class='track-block'>
        
        <div class='track-title-wrapper'>
          <div class='track-title'>dart rayne & yura moonlight feat. cate kanell</div>
          <div class='track-ispoln'>shelter me (moonnight remix)</div>
          <div class='player-block jp-audio'>
            <div class='quality-block' data-hint='Change bitrate'>
              <img class='icon-live-notice' alt='' src='/images/icon-potok-med-blue.png'>
              <span class='quality-selector active' 
                data-quality='https://stream.pcradio.ru/rad_chlltfmr-med'>Standart</span>
              <img class='quality-caret-down' alt='' src='/images/caret-down.png'>
            </div>
            <div class='quality-drop-down'>
              <img class='icon-close-modal-dropdown' alt='' src='/images/icon-close-modal-dropdown.png'>
              <div>Bitrate</div>
              <span class='quality-selector hi-quality-selector ' data-text='Premium' data-set-quality='hi' data-quality='https://stream.pcradio.ru/rad_chlltfmr-hi'><img class='quality-selected' alt='' data-src='/images/icon-potok-hi-' src='/images/icon-potok-hi-black.png' >Premium</span>
              <span class='quality-selector med-quality-selector selected' data-text='Standart' data-set-quality='med' data-quality='https://stream.pcradio.ru/rad_chlltfmr-med'><img class='quality-selected' alt='' data-src='/images/icon-potok-med-' src='/images/icon-potok-med-blue.png' >Standart</span>
              <span class='quality-selector low-quality-selector ' data-text='Economy' data-set-quality='low' data-quality='https://stream.pcradio.ru/rad_chlltfmr-low'><img class='quality-selected' alt='' data-src='/images/icon-potok-low-' src='/images/icon-potok-low-black.png' >Economy</span>
            </div>
            <div class='volume-center'>
              <div class='play-time-bar' data-time='0'>00:00</div>
              <div class='mute-button'><img alt='' src='/images/volume-icon.png'></div>
              <div class='volume-bar'></div>
            </div>
            <div class='jp-play'><img alt='' src='/images/ic-play.png'></div>
            <div class='jp-stop'><img alt='' src='/images/ic-pause.png'></div>
          </div>
        </div>

        <div class='song-timer-block'>
            <span id="canvas"></span>
        </div>
      </aside>
    </div>  
    
    
 
<aside class='track-logo-wrapper'>
  <img alt='' class='track-logo need-cover' src='/images/stations/cover-off.jpg' data-cover='dart rayne & yura moonlight feat. cate kanell - shelter me (moonnight remix)'>
  <a class='tube-search' data-hint='YouTube video' href='https://www.youtube.com/results?search_query=dart+rayne+%26+yura+moonlight+feat.+cate+kanell-shelter+me+%28moonnight+remix%29' target="_blank">
    <img alt='' src='/images/tube-search-black.png'>
  </a>
</aside>  

<div class='padding-block'>

<div class='rating-block'>
    <div class='rating-action'>
      <input type="hidden" class="rating" autocomplete="off" data-filled="fa fa-star" data-empty="fa fa-star-o" value="4.0" />
    </div>
    <div class='rating-vots' title='136 votes'>136</div>
    <div class='rating-value for-restore'>4.0</div>
</div>
<div class='rating-block-button'>
  <img alt='' src='/images/rat2.png'>
  <div class='rating-value'>4.0</div>
</div>

    
    <div class='station-data'>
    <a class='goto-comments' data-hint='Go to comments' href='#comments'>
        <img src='/images/icon-messages-bubble.png' alt=''>
        <span class='comments_cnt'>0</span>
       </a>
      <div class="soc-share-mobile only-mobile">
         <img alt='' src='/images/icon-soc-share.png'>
      </div>
      <div class="soc-share mobile-hidden">
<!-- Rambler.Likes script start -->
<div class="rambler-share"></div>
<script>
(function() {
var init = function() {
RamblerShare.init('.rambler-share', {
	"style": {
		"iconSize": 19,
		"borderRadius": 4,
		"counterSize": 16,
		"font": "Roboto"
	},
	"utm": "utm_medium=social",
	"counters": true,
	"buttons": [
		"vkontakte",
		"odnoklassniki"
	]
});
};
var script = document.createElement('script');
script.onload = init;
script.async = true;
script.src = 'https://developers.rambler.ru/likes/v1/widget.js';
document.head.appendChild(script);
})();
</script>
<!--  Rambler.Likes script end  -->
      </div>
      <!-- 
      <span class='listen-block'>4.6k      </span> -->
      <span class='favor-button add_favor_action' data-hint='To favorites' data-station_id='2003'>
        <span class='favor-button-inner'>
        <img alt='' class='favor-add ' src='/images/favor1.png'> <span class='favor-count'><span>31</span></span> 
        </span>
      </span>
      
       <div style='clear:both;'></div>
    </div>


    
    
    <section class='station-about'>
      <h2 class='station-about-title'>
        History
      </h2>
      <div class='history-list'>
              <div class='history-item'>
          <span class='history-time'>04:05</span>
          <img alt='' class='history-dropdown-button' src='/images/icon-navigation-menu-vertical.png'>
          <span class='history-dropdown'>
          <a class='history-dropdown-item' data-hint='YouTube video' href="https://www.youtube.com/results?search_query=Dart+Rayne+%26+Yura+Moonlight+feat.+Cate+Kanell-Shelter+Me+%28Moonnight+remix%29" target="_blank">
            <img alt='' src='/images/black-tube-search.png'>
          </a>
          <span class='history-copy history-dropdown-item' data-hint='Copy'>
          <img alt='' src='/images/history-copy.png'>
          </span>
          </span>
          <span class='history-song'><span class='b'>dart rayne & yura moonlight feat. cate kanell</span>  - <span class='n'>shelter me (moonnight remix)</span> </span>
        </div>
              <div class='history-item'>
          <span class='history-time'>03:59</span>
          <img alt='' class='history-dropdown-button' src='/images/icon-navigation-menu-vertical.png'>
          <span class='history-dropdown'>
          <a class='history-dropdown-item' data-hint='YouTube video' href="https://www.youtube.com/results?search_query=Airform-Dream%28Chillout+Mix%29" target="_blank">
            <img alt='' src='/images/black-tube-search.png'>
          </a>
          <span class='history-copy history-dropdown-item' data-hint='Copy'>
          <img alt='' src='/images/history-copy.png'>
          </span>
          </span>
          <span class='history-song'><span class='b'>airform</span>  - <span class='n'>dream(chillout mix)</span> </span>
        </div>
              <div class='history-item'>
          <span class='history-time'>03:56</span>
          <img alt='' class='history-dropdown-button' src='/images/icon-navigation-menu-vertical.png'>
          <span class='history-dropdown'>
          <a class='history-dropdown-item' data-hint='YouTube video' href="https://www.youtube.com/results?search_query=R.I.B-Siberian+Tale" target="_blank">
            <img alt='' src='/images/black-tube-search.png'>
          </a>
          <span class='history-copy history-dropdown-item' data-hint='Copy'>
          <img alt='' src='/images/history-copy.png'>
          </span>
          </span>
          <span class='history-song'><span class='b'>r.i.b</span>  - <span class='n'>siberian tale</span> </span>
        </div>
              <div class='history-item'>
          <span class='history-time'>03:50</span>
          <img alt='' class='history-dropdown-button' src='/images/icon-navigation-menu-vertical.png'>
          <span class='history-dropdown'>
          <a class='history-dropdown-item' data-hint='YouTube video' href="https://www.youtube.com/results?search_query=Alfida-Alisha+%28TH+Moy+rmx%29" target="_blank">
            <img alt='' src='/images/black-tube-search.png'>
          </a>
          <span class='history-copy history-dropdown-item' data-hint='Copy'>
          <img alt='' src='/images/history-copy.png'>
          </span>
          </span>
          <span class='history-song'><span class='b'>alfida</span>  - <span class='n'>alisha (th moy rmx)</span> </span>
        </div>
              <div class='history-item only-desctop'>
          <span class='history-time'>03:47</span>
          <img alt='' class='history-dropdown-button' src='/images/icon-navigation-menu-vertical.png'>
          <span class='history-dropdown'>
          <a class='history-dropdown-item' data-hint='YouTube video' href="https://www.youtube.com/results?search_query=Kazukii-Desire+%28feat.+Angelique%29" target="_blank">
            <img alt='' src='/images/black-tube-search.png'>
          </a>
          <span class='history-copy history-dropdown-item' data-hint='Copy'>
          <img alt='' src='/images/history-copy.png'>
          </span>
          </span>
          <span class='history-song'><span class='b'>kazukii</span>  - <span class='n'>desire (feat. angelique)</span> </span>
        </div>
              <div class='history-item only-desctop'>
          <span class='history-time'>03:41</span>
          <img alt='' class='history-dropdown-button' src='/images/icon-navigation-menu-vertical.png'>
          <span class='history-dropdown'>
          <a class='history-dropdown-item' data-hint='YouTube video' href="https://www.youtube.com/results?search_query=Bucky-Find+The+Sun" target="_blank">
            <img alt='' src='/images/black-tube-search.png'>
          </a>
          <span class='history-copy history-dropdown-item' data-hint='Copy'>
          <img alt='' src='/images/history-copy.png'>
          </span>
          </span>
          <span class='history-song'><span class='b'>bucky</span>  - <span class='n'>find the sun</span> </span>
        </div>
              <div class='history-item only-desctop'>
          <span class='history-time'>03:38</span>
          <img alt='' class='history-dropdown-button' src='/images/icon-navigation-menu-vertical.png'>
          <span class='history-dropdown'>
          <a class='history-dropdown-item' data-hint='YouTube video' href="https://www.youtube.com/results?search_query=Andy+Leech-Issey+-+Issey" target="_blank">
            <img alt='' src='/images/black-tube-search.png'>
          </a>
          <span class='history-copy history-dropdown-item' data-hint='Copy'>
          <img alt='' src='/images/history-copy.png'>
          </span>
          </span>
          <span class='history-song'><span class='b'>andy leech</span>  - <span class='n'>issey - issey</span> </span>
        </div>
              <div class='history-item only-desctop'>
          <span class='history-time'>03:34</span>
          <img alt='' class='history-dropdown-button' src='/images/icon-navigation-menu-vertical.png'>
          <span class='history-dropdown'>
          <a class='history-dropdown-item' data-hint='YouTube video' href="https://www.youtube.com/results?search_query=Pavel+Khvaleev%2C+Loolacoma-Dark+Angel" target="_blank">
            <img alt='' src='/images/black-tube-search.png'>
          </a>
          <span class='history-copy history-dropdown-item' data-hint='Copy'>
          <img alt='' src='/images/history-copy.png'>
          </span>
          </span>
          <span class='history-song'><span class='b'>pavel khvaleev, loolacoma</span>  - <span class='n'>dark angel</span> </span>
        </div>
              <div class='history-item only-desctop'>
          <span class='history-time'>03:28</span>
          <img alt='' class='history-dropdown-button' src='/images/icon-navigation-menu-vertical.png'>
          <span class='history-dropdown'>
          <a class='history-dropdown-item' data-hint='YouTube video' href="https://www.youtube.com/results?search_query=Emanuele+Braveri+feat+Hanna+Finsen-Run+Baby+%28Lisaya+Chillout+Remix%29" target="_blank">
            <img alt='' src='/images/black-tube-search.png'>
          </a>
          <span class='history-copy history-dropdown-item' data-hint='Copy'>
          <img alt='' src='/images/history-copy.png'>
          </span>
          </span>
          <span class='history-song'><span class='b'>emanuele braveri feat hanna finsen</span>  - <span class='n'>run baby (lisaya chillout remix)</span> </span>
        </div>
              <div class='history-item only-desctop'>
          <span class='history-time'>03:25</span>
          <img alt='' class='history-dropdown-button' src='/images/icon-navigation-menu-vertical.png'>
          <span class='history-dropdown'>
          <a class='history-dropdown-item' data-hint='YouTube video' href="https://www.youtube.com/results?search_query=Whitewildbear-Broken" target="_blank">
            <img alt='' src='/images/black-tube-search.png'>
          </a>
          <span class='history-copy history-dropdown-item' data-hint='Copy'>
          <img alt='' src='/images/history-copy.png'>
          </span>
          </span>
          <span class='history-song'><span class='b'>whitewildbear</span>  - <span class='n'>broken</span> </span>
        </div>
      

         <div class='more-history-item only-mobile'>More tracks</div>
      </div>
    </section>


    
        
    <section class='station-about'>
      <h2 class='station-about-title'>
        About station
      </h2>
            <div class='station-about-text'>
          Radio ChilloutFM          you can listen on this page of our site. 
          Station work in genres: Electronic, Relax, Easy listening, Yoga, Spa, Meditation. 
          The radio station “Chillout Fm” broadcasts daily from the city of Surgut. This radio wave will definitely appeal to those who like to be alone with their thoughts. The thing is that from English slang to chill out means - cool down, relax. This means that the creators of the project carefully took care of this and offered listeners exceptionally calm and melodic tracks. No ringing or loud bass or rarefied ringing. Only peace and tranquility. Each composition is ideal for doing yoga or meditation. Be in harmony with your own thoughts more often, and then life will definitely sparkle with different colors. These radio tracks are designed for complete relaxation!. Radio ChilloutFM has a rating 4.0. Broadcasting country: Russia. 
          The station was rated by 136 listeners.           Radio ChilloutFM you can also listen in the FMCUBE app for Android.
          </div>
           </section>

    


    <aside id='comments' class='station-about'>

        
    
    <h2 class='station-about-title'>
      Comments <span>0</span>
    </h2>

    <div class='show-mobile-comment-form shown-mobile'>
       Add comment
    </div>
    <div class='new-comment hidden-mobile'>
       
       <div class='comment-in-list-wrapper'>

         <div class='reply'>
              <img alt='' class='reply-close' src='/images/modal-close.png'>
              <img alt='' class='comment-in-list-avatar' src='/images/users/default-profile-comment.png'>
              <div class='comment-data'>
              <span class='comment-data-user'></span>
              <span class='comment-data-date'></span>
              </div>
               <div class='comment-text'></div>
           </div>
       </div>
  
       <div class='send-area'>

         <span class='smile-button'><img alt='' src='/images/smile-button.png'></span>
         <span class='symbol-counter'><span class='symbol-count'>0</span> из 200</span>
         <textarea maxlength='200' class='new-comment-text not-auth' placeholder='Your comment' data-reply_id='0'></textarea>
         
         <div class='comment-data'>
           
                       <input class='user_name form-control' maxlength='25' type='text' placeholder='Enter your name or login'>
                    </div>
         <div class='send-button' data-station_id='2003'>Sent</div>
       </div>
     </div>

     <div class='comment-block-wrapper'>
      <div class='comments-list-wrapper'>
      <div class='comments-list'>
        <div class='no-comments'>Are you like this station? Comment ChilloutFM</div>        </div>
       </div>
     
      
    </div>
  </aside>
 
    
    </div>
    </article>
    </main>
    <div class='padding-block'>
    
    
    <aside class='stations-list-wrapper similar-station-block' style='min-height:unset;'>
      <h2 class='stations-list-title'>
        Similar stations
      </h2>
      
      <div class='stations-list wo-controls'>
      <div class='stations-list-inner'>
                            <div class='col-md-five'> 
        <a href='/radio/uturn-radio-drum-and-bass' class='station-in-list-small'>
          <div class='station-in-list-header'>

               <img alt='' class='station-in-list-logo lazyload' src='/images/1px.png' data-src='/images/stations/61b09cbba46bb.jpg'>
             <div class='station-in-list-title'>Uturn Radio - Drum and Bass</div>
             <div class='station-in-list-desc'>Radio Internet diffusant 24/24 un contenue musical Drum and Bass de qualités</div>
          </div>
        </a>
        <div class='play-pause-button off' data-alias='uturn-radio-drum-and-bass' data-station_id='994' data-hi='https://stream.pcradio.ru/uturn_dnb-hi' data-low='https://stream.pcradio.ru/uturn_dnb-low' data-med='https://stream.pcradio.ru/uturn_dnb-med'></div>
        <img alt='' class='info-button' data-station_id='994' src='/images/icon-info.png'>
        <div class='info-drop-block'>
          <img alt='' class='info-drop-block-close' src='/images/modal-close.png'>
                                <a class='cat-in-list' href='/zhanr/electronic'>Electronic</a>
                        <a class='cat-in-list' href='/strana/canada'>Canada</a>
        </div>
                              <div class='favorite-block favor-button add_favor_action' data-station_id='994'><img alt='' class='favor-add' src='/images/favor1.png'></div>
                        <div class='cat-list'>
            <a class='cat-in-list' href='/zhanr/electronic'>Electronic</a>
            <a class='cat-in-list only-desctop' href='/strana/canada'>Canada</a>
          </div>
        </div>
                            <div class='col-md-five'> 
        <a href='/radio/record-hard-bass' class='station-in-list-small'>
          <div class='station-in-list-header'>

               <img alt='' class='station-in-list-logo lazyload' src='/images/1px.png' data-src='/images/stations/61b09cc906449.jpg'>
             <div class='station-in-list-title'>Record Hard Bass</div>
             <div class='station-in-list-desc'>Hard Bass channel at the Record Radio</div>
          </div>
        </a>
        <div class='play-pause-button off' data-alias='record-hard-bass' data-station_id='3444' data-hi='https://stream.pcradio.ru/record_hbass-hi' data-low='https://stream.pcradio.ru/record_hbass-low' data-med='https://stream.pcradio.ru/record_hbass-med'></div>
        <img alt='' class='info-button' data-station_id='3444' src='/images/icon-info.png'>
        <div class='info-drop-block'>
          <img alt='' class='info-drop-block-close' src='/images/modal-close.png'>
                                <a class='cat-in-list' href='/zhanr/electronic'>Electronic</a>
                        <a class='cat-in-list' href='/strana/russia'>Russia</a>
        </div>
                              <div class='favorite-block favor-button add_favor_action' data-station_id='3444'><img alt='' class='favor-add' src='/images/favor1.png'></div>
                        <div class='cat-list'>
            <a class='cat-in-list' href='/zhanr/electronic'>Electronic</a>
            <a class='cat-in-list only-desctop' href='/strana/russia'>Russia</a>
          </div>
        </div>
                            <div class='col-md-five'> 
        <a href='/radio/bassdrive' class='station-in-list-small'>
          <div class='station-in-list-header'>

               <img alt='' class='station-in-list-logo lazyload' src='/images/1px.png' data-src='/images/stations/61b09cbb94b50.jpg'>
             <div class='station-in-list-title'>Bassdrive</div>
             <div class='station-in-list-desc'>Bassdrive Worldwide Drum and Bass Radio is a 24/7 drum n bass radio station featuring live shows with guest DJs, as well as broadcasts from venues all over the world representing the best of drum&bass and jungle music from around the globe</div>
          </div>
        </a>
        <div class='play-pause-button off' data-alias='bassdrive' data-station_id='541' data-hi='https://stream.pcradio.ru/bassdrive-hi' data-low='https://stream.pcradio.ru/bassdrive-low' data-med='https://stream.pcradio.ru/bassdrive-med'></div>
        <img alt='' class='info-button' data-station_id='541' src='/images/icon-info.png'>
        <div class='info-drop-block'>
          <img alt='' class='info-drop-block-close' src='/images/modal-close.png'>
                                <a class='cat-in-list' href='/zhanr/electronic'>Electronic</a>
                        <a class='cat-in-list' href='/strana/usa'>USA</a>
        </div>
                              <div class='favorite-block favor-button add_favor_action' data-station_id='541'><img alt='' class='favor-add' src='/images/favor1.png'></div>
                        <div class='cat-list'>
            <a class='cat-in-list' href='/zhanr/electronic'>Electronic</a>
            <a class='cat-in-list only-desctop' href='/strana/usa'>USA</a>
          </div>
        </div>
                            <div class='col-md-five'> 
        <a href='/radio/tomorrowland-one-world-radio' class='station-in-list-small'>
          <div class='station-in-list-header'>

               <img alt='' class='station-in-list-logo lazyload' src='/images/1px.png' data-src='/images/stations/61b09c8e112ab.jpg'>
             <div class='station-in-list-title'>Tomorrowland One World Radio</div>
             <div class='station-in-list-desc'>EDM festival radio</div>
          </div>
        </a>
        <div class='play-pause-button off' data-alias='tomorrowland-one-world-radio' data-station_id='4182' data-hi='https://stream.pcradio.ru/tomorrowland_owr-hi' data-low='https://stream.pcradio.ru/tomorrowland_owr-low' data-med='https://stream.pcradio.ru/tomorrowland_owr-med'></div>
        <img alt='' class='info-button' data-station_id='4182' src='/images/icon-info.png'>
        <div class='info-drop-block'>
          <img alt='' class='info-drop-block-close' src='/images/modal-close.png'>
                                <a class='cat-in-list' href='/zhanr/electronic'>Electronic</a>
                        <a class='cat-in-list' href='/strana/belgium'>Belgium</a>
        </div>
                              <div class='favorite-block favor-button add_favor_action' data-station_id='4182'><img alt='' class='favor-add' src='/images/favor1.png'></div>
                        <div class='cat-list'>
            <a class='cat-in-list' href='/zhanr/electronic'>Electronic</a>
            <a class='cat-in-list only-desctop' href='/strana/belgium'>Belgium</a>
          </div>
        </div>
                            <div class='col-md-five'> 
        <a href='/radio/schizoid-progressive-psy' class='station-in-list-small'>
          <div class='station-in-list-header'>

               <img alt='' class='station-in-list-logo lazyload' src='/images/1px.png' data-src='/images/stations/61b09cb16d162.jpg'>
             <div class='station-in-list-title'>Schizoid Progressive Psy</div>
             <div class='station-in-list-desc'>Progressive Psychedelic Trance music</div>
          </div>
        </a>
        <div class='play-pause-button off' data-alias='schizoid-progressive-psy' data-station_id='2465' data-hi='https://stream.pcradio.ru/schizoid_progpsy-hi' data-low='https://stream.pcradio.ru/schizoid_progpsy-low' data-med='https://stream.pcradio.ru/schizoid_progpsy-med'></div>
        <img alt='' class='info-button' data-station_id='2465' src='/images/icon-info.png'>
        <div class='info-drop-block'>
          <img alt='' class='info-drop-block-close' src='/images/modal-close.png'>
                                <a class='cat-in-list' href='/zhanr/electronic'>Electronic</a>
                        <a class='cat-in-list' href='/strana/india'>India</a>
        </div>
                              <div class='favorite-block favor-button add_favor_action' data-station_id='2465'><img alt='' class='favor-add' src='/images/favor1.png'></div>
                        <div class='cat-list'>
            <a class='cat-in-list' href='/zhanr/electronic'>Electronic</a>
            <a class='cat-in-list only-desctop' href='/strana/india'>India</a>
          </div>
        </div>
                            <div class='col-md-five'> 
        <a href='/radio/ibiza-global-radio' class='station-in-list-small'>
          <div class='station-in-list-header'>

               <img alt='' class='station-in-list-logo lazyload' src='/images/1px.png' data-src='/images/stations/61b09cd6375ce.jpg'>
             <div class='station-in-list-title'>Ibiza Global Radio</div>
             <div class='station-in-list-desc'>Ibiza Global Radio 100</div>
          </div>
        </a>
        <div class='play-pause-button off' data-alias='ibiza-global-radio' data-station_id='2447' data-hi='https://stream.pcradio.ru/ibiza_global-hi' data-low='https://stream.pcradio.ru/ibiza_global-low' data-med='https://stream.pcradio.ru/ibiza_global-med'></div>
        <img alt='' class='info-button' data-station_id='2447' src='/images/icon-info.png'>
        <div class='info-drop-block'>
          <img alt='' class='info-drop-block-close' src='/images/modal-close.png'>
                                <a class='cat-in-list' href='/zhanr/dance'>Dance</a>
                        <a class='cat-in-list' href='/zhanr/electronic'>Electronic</a>
                        <a class='cat-in-list' href='/strana/spain'>Spain</a>
        </div>
                              <div class='favorite-block favor-button add_favor_action' data-station_id='2447'><img alt='' class='favor-add' src='/images/favor1.png'></div>
                        <div class='cat-list'>
            <a class='cat-in-list' href='/zhanr/electronic'>Electronic</a>
            <a class='cat-in-list only-desctop' href='/strana/spain'>Spain</a>
          </div>
        </div>
         
      </div>
      </div>
    </aside>
    <div style='clear:both;'></div>
        <a class='similar-station-button' data-station_id='2003' data-catlist='36' data-start='6' href='/zhanr/electronic'>More similar</a>
    
        <div style='clear:both;'></div>

    </div>
    
  </div>
  
</div>


<footer class="site-footer">
  <div class="container">
    
    <div class="row clearfix">
                
      <aside class="col-md-3">
        <div class='mobile-margin-bottom footer-logo-text'>
        <a href='/'>
          <img alt='' class='footer-logo' src='/images/fmcube-logo-bw.png'>
                  <span class='footer-content'><b>FMCUBE</b><p>Radio online</p></span></a> 
         
                
        
       
                 
        </div>
      </aside>
<!--
      <div class="col-xs-6 col-md-2">
        <nav>
          <ul class="footer-main-menu">
              <li class="nav-title">
              Top genres
               </li>

                             <li class="nav-item">
                <a href='/zhanr/discography'>Discography</a>
              </li>
                               <li class="nav-item">
                <a href='/zhanr/electronic'>Electronic</a>
              </li>
                               <li class="nav-item">
                <a href='/zhanr/past-decades'>Past decades</a>
              </li>
                               <li class="nav-item">
                <a href='/zhanr/rock'>Rock</a>
              </li>
                   
          </ul>
        </nav>
      </div>
                 -->


      <div class="col-xs-6 col-md-3">
        <nav>
          <ul class="footer-main-menu">
              <li class="nav-item">
                <a href='/mail.html'>Contact us</a>   
              </li>
              <li class="nav-item">
                <a href='/add_radio'>Add station</a>
              </li> 
              <li class="nav-item">
                <a href='/edit-radio'>Edit station</a>
              </li>
              <!--
              <li class="nav-item">
              <a href='/rules'>Term of Use</a>   
              </li> --> 
          </ul>
        </nav>
      </div>

      <div class="col-xs-6 col-md-3">
        <nav>
          <ul class="footer-main-menu">
              <li class="nav-item">
                <a href='/play-android.html'>App for Android</a>
              </li>
              <!--
              <li class="nav-item">
              <a href='/rules'>Term of Use</a>   
              </li> --> 
          </ul>
        </nav>
      </div>

      <div class="col-xs-6 col-md-3">
        <nav>
          <ul class="clearfix">
              <li class="nav-item">
                <a href='/privacy_policy/privacy_policy_en'>Privacy policy</a>   
              </li>
              <li class='google-policy'>
                 This site is protected by reCAPTCHA and the Google
                 <a href="https://policies.google.com/privacy">Privacy Policy</a> 
                 and <a href="https://policies.google.com/terms">Terms of Service</a> apply.
              </li>
            
          </ul>
        </nav>
      </div>

    </div>
    
  </div>
 </footer>

   



  </div>
</div>

<script src="/assets/6387432/jquery.js"></script>
<script src="/assets/6a8db8aa/yii.js"></script>
<script src="/assets/62507aa5/js/bootstrap.js"></script>

<input type='hidden' class='volume' value='80'>
<input type='hidden' class='quality' value='med'>
<input type='hidden' class='station_id' value='2003' data-server='https://stream.pcradio.ru/rad_chlltfmr-med' data-alias='chilloutfm'>

  <input type='hidden' class='playing_id' value='0' data-server='0' data-alias=''>


<input type='hidden' class='user_id' value='0'>

  <input type='hidden' class='new_stations' value='0'>
<input type='hidden' class='action_id' value='radio'>

</div>
<div class="emojiPicker">
</div>
<div class='bottom-player' >
  
  <a class='station-return' href='/radio/chilloutfm'>
    <img alt='' class='song-cover' src='/images/'>
  </a>
  <div class='song'>
    <a class='song-title station-return' href='/radio/chilloutfm'></a>
    <div class='song-title-wrapper'>
      <div class='song-title-inner'>
        <div class='song-artist'></div><div class='song-artist'></div>
      </div>
    </div>    
  </div> 

  <div class='bottom-station-block'>

    <a class='station-return' href='/radio/chilloutfm'>
    <img alt='' class='station-logo' src='/images/stations/6539a85988bd9.jpg'>
    <div class='station-title'>ChilloutFM</div>
    </a>

    <div class='quality-block' data-hint='Изменить скорость потока'>
              <img class='icon-live-notice' alt='' src='/images/icon-potok-med-blue.png'>
              <span class='quality-selector active' 
                data-quality='https://stream.pcradio.ru/rad_chlltfmr-med'>Standart</span>
              <img class='quality-caret-down' alt='' src='/images/caret-down.png'>
    </div>
    <div class='quality-drop-down'>
      <img class='icon-close-modal-dropdown' alt='' src='/images/icon-close-modal-dropdown.png'>
              
              <div>Качество потока</div>
              <span class='quality-selector hi-quality-selector ' data-text='Premium' data-set-quality='hi' data-quality='https://stream.pcradio.ru/rad_chlltfmr-hi'><img class='quality-selected' alt='' data-src='/images/icon-potok-hi-' src='/images/icon-potok-hi-black.png' >Premium</span>
              <span class='quality-selector med-quality-selector selected' data-text='Standart' data-set-quality='med' data-quality='https://stream.pcradio.ru/rad_chlltfmr-med'><img class='quality-selected' alt='' data-src='/images/icon-potok-med-' src='/images/icon-potok-med-blue.png' >Standart</span>
              <span class='quality-selector low-quality-selector ' data-text='Economy' data-set-quality='low' data-quality='https://stream.pcradio.ru/rad_chlltfmr-low'><img class='quality-selected' alt='' data-src='/images/icon-potok-low-' src='/images/icon-potok-low-black.png' >Economy</span>
    </div>

    <span class='favor-button-wrapper' data-title='В избранное'>
    <img alt=''  class="favor-add add_favor_action" data-station_id="2003" src="/images/favor1.png">
</span>
    <div class='jp-stop'>
    </div>
    <div class='jp-play'>
      <img alt='' src="/images/" data-potok='https://stream.pcradio.ru/rad_chlltfmr-med' data-server='https://stream.pcradio.ru/rad_chlltfmr-med' data-api_id='2003' data-alias='chilloutfm'>
    </div>
    <div class='volume-button bottom-mute-button'>
      <div class='volume-vert-wrapper'>
        <div class='volume-vert'></div>
      </div>
      <img alt='' src='/images/volume-icon.png'>
    </div>

  </div>
  <div style='clear:both;'></div>
  <div class='song-mobile'>
  <div class='song-mobile-wrapper'>
    <div class='song-mobile-inner'>
      <div class='song-mobile-inner-inner'>
        <div class='song-title'></div>
        <div class='song-artist'></div>
        
      </div>
      <div class='song-mobile-inner-inner'>
        <div class='song-title'></div>
        <div class='song-artist'></div>
        
      </div>
    </div>
  </div>
  </div>

</div>

<div class="privacy-block" style='display:none;'>
      <span> We use cookies. By using the site, you agree to our
        <a href='/privacy_policy/privacy_policy_ru'>Privacy Policy</a></span>
      <div class="icon-close-alert privacy-close">Accept and close</div>
</div>

<div id='pcradio_c' style='display:none;'></div>

<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script src="/js/bootstrap-rating.js"></script>
<script src="/js/select2.js"></script>
<script src="/js/jquery.nicescroll.js"></script>
<script src="/js/jquery.formstyler.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lazyload@2.0.0-rc.2/lazyload.js"></script>
<script src="/js/autosize.js"></script>



<script src="/js/jquery.emojis.js"></script>
<script src="/frontend/web/js/radio.js"></script> 

 <script>

function iOS() {
  //alert(navigator.userAgent);
  return [
    'iPad Simulator',
    'iPhone Simulator',
    'iPod Simulator',
    'iPad',
    'iPhone',
    'iPod'
  ].includes(navigator.platform)
  // iPad on iOS 13 detection
  || (navigator.userAgent.includes("Mac") && "ontouchend" in document);
  
}

 var is_safari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);

 var radio_cur  = new Radio({
       m:"audio",
       uid:"pcradio_c",
       //file:$('.hi-quality-selector').attr('data-quality'),
       volume:0.8
    });

var intPlayer;
var intSmallPlayer, intSmallSong;
var intSong, intPlay, intPulse;
var data_time;
var tmpbuffertitle ='';

var intComment;
var topSc = 10000000;

function time(){
  return parseInt(new Date().getTime()/1000)
}

function my_alert (text, action) {
  var th = $('.alert-block.' + action);
  th.find('span').text(text);
  th.fadeIn('slow');
  setTimeout( function() {
    th.fadeOut('slow');
  }, 2600); 
}

function get_cookie ( cookie_name ) {
  var results = document.cookie.match ( '(^|;) ?' + cookie_name + '=([^;]*)(;|$)' );
  if ( results )
    return ( unescape ( results[2] ) );
  else
    return null;
}

function show_login () {
      $.ajax({
        url: '/modal',
        data: { modal: '#loginBox' },
        type: 'post',
        success: function(ans) {   
           $('#loginBox').empty().append(ans);                   
           $('#loginBox').modal('show');
           $('.modal').on( 'shown.bs.modal', function() { 
            document.activeElement.blur(); 
            $('#loginBox input').val(''); 
          });
        }
      });
      $('.modal').off( 'hidden.bs.modal', show_login ); 
}

function show_remember () {
      $.ajax({
        url: '/modal',
        data: { modal: '#rememberBox' },
        type: 'post',
        success: function(ans) {   
           $('#rememberBox').empty().append(ans);                   
           $('#rememberBox').modal('show');
           $('.modal').on( 'shown.bs.modal', function() { 
            document.activeElement.blur(); 
            $('#rememberBox input').val(''); 
          });
        }
      }); 
      $('.modal').off( 'hidden.bs.modal', show_remember ); 
}

function show_sign_up () {
        $.ajax({
          url: '/modal',
          data: { modal: '#signupBox' },
          type: 'post',
          success: function(ans) {   
            $('#loginBox').empty().append(ans);                   
            $('#loginBox').modal('show');
            $('.modal').on( 'shown.bs.modal', function() { 
              document.activeElement.blur(); 
              $('#loginBox input').val(''); 
            });
          }
        }); 
        $('.modal').off( 'hidden.bs.modal', show_sign_up ); 
}

function getRandomInt(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min)) + min; //Максимум не включается, минимум включается
}

function header_cat_check () { 
    if ($(document).width() <= 767) {
      $('.more-filter-open').empty().append('<img alt="" src="/images/shevron-select-closed.png">Specify');
    } else {
      $('.more-filter-open').empty().append('<img alt="" src="/images/shevron-select-closed.png">More');
    }

      if ( $('.filter-selector-top').length == 0 ) return;
      if ( $(document).width() > 767 ) {
      
        var wrap = $('.filter-selector-top')[0].getBoundingClientRect();
        var el;
        var num = 0;
        var sum_width = 0;
        $('.filter-selector-top .cat-in-list').css('paddingLeft', '20px').css('paddingRight', '20px').css('marginRight', '10px');
        console.log(wrap);
        var yet = false;
        $('.filter-selector-top .cat-in-list').each(function(){
          el = $(this)[0].getBoundingClientRect();
          //console.log(el);
          var i = $(this).index();
          console.log(el, i, el.y > wrap.y);
          if ( el.y > wrap.y || yet ) {
            $('.filter-selector-top .cat-in-list').eq(i).hide();
            yet = true;
          } else {
            $('.filter-selector-top .cat-in-list').eq(i).show();
            num++;
            sum_width += el.width + 10;
          }
        });
        var delta = (wrap.width - sum_width)/(num*2);
        console.log(delta);
        $('.filter-selector-top .cat-in-list').each(function(){
          var i = $(this).index();
          $(this).css('paddingLeft', (delta+19)+'px').css('paddingRight', (delta+19)+'px');
          if (num - 1 == i) {
            $(this).css('marginRight', '0');
          }
          //$(this).closest('.cat-games-head').css('marginRight', (delta/2+10)+'px');
        });
      } else {
        $('.filter-selector-top .cat-in-list').hide();
      }
}

var audioCtx;
var source;
var marqueInt, marqueMobInt, marque = 0, marquemob = 0;
var analyser;

var load_css = true;

function goMarque () {
  /*
            clearInterval (marqueInt);

            marque = 0;
            $('.bottom-player .song-mobile-inner-inner').css('marginLeft', marque );

            if ( $('.bottom-player .song-mobile').width() < $('.bottom-player .song-mobile-inner-inner').width() ) {
              marqueInt = setInterval(
                function () {
                  if ( -marque >= $('.bottom-player .song-mobile-inner-inner').width() - $('.bottom-player .song-mobile').width() ) {
                    marqueK = 1;
                  }
                  if (marque >=0) {
                    marqueK = -1;
                  }
                  marque += marqueK;
                  $('.bottom-player .song-mobile-inner-inner').css('marginLeft', marque );
                }, 70
              )
            }
  */
  marque = 0;
  clearInterval (marqueInt);
  $('.song-title-inner').width(10000);
  
  var w = $('.song .song-artist').width();
  $('.song-title-wrapper').width(w);
  var W = $('.song').width();
  $('.song-title-inner').width(w*2+40);
  $('.bottom-player .song-title-inner').css('marginLeft', marque );

  if (w > W+1) {
              marqueInt = setInterval(
                function () {
                  if (marque < w + 20 - 1)
                    marque++;
                  else
                    marque = 0;
                  $('.bottom-player .song-title-inner').css('marginLeft', -marque + 'px' );
                }, 50
              )    
  }

  marquemob = 0;
  clearInterval (marqueMobInt);
  $('.song-mobile-inner').width(10000);
  
  var wm = $('.song-mobile-inner-inner').width();
  $('.song-mobile-wrapper').width(wm);
  var Wm = $('.song-mobile').width();
  $('.song-mobile-inner').width(wm*2+40);
  $('.song-mobile-inner').css('marginLeft', marque );

  if (wm > Wm+1) {
    marqueMobInt = setInterval(
                function () {
                  if (marquemob < wm + 20 - 1)
                    marquemob++;
                  else
                    marquemob = 0;
                  $('.song-mobile-inner').css('marginLeft', -marquemob + 'px' );
                }, 50
              )    
  }

            
}

function goPulse (cnnect) {


  //return;
  var player = $('audio')[0];
  var num_block = 64;

  if (!audioCtx) 
    audioCtx = new(window.AudioContext || window.webkitAudioContext);

  if (!audioCtx) return;
  
  if (cnnect) {
    source = audioCtx.createMediaElementSource(player);
    analyser = audioCtx.createAnalyser();
    analyser.fftSize = num_block*4;
    source.connect(analyser); // Подключаем анализатор к элементу audio
    analyser.connect(audioCtx.destination); // Без этой строки нет звука, но анализатор работает.
  } else {
    return;
  }
  var frequencyData = new Uint8Array(analyser.frequencyBinCount);
  var canvas = $('#canvas');
  clearInterval (intPulse);
  intPulse = setInterval(function() {
    analyser.getByteFrequencyData(frequencyData); // Записываем в массив данные уровней частот
    //console.log(frequencyData);
    canvas.empty();
    for (i = 0; i < 40; i++) {
      var h = frequencyData[i+10]/255*100;
      var l1 = 2.5 * i;
      var l2 = 0;
      canvas.append("<span style='height:"+h+"%;left:calc("+l1+"% + "+l2+"px)'></span>");
    }
  }, 50);
}


function get_small_track_info () {
  var deflogo = '/images/stations/cover-off.jpg';

      $.ajax({
        url: $('.bottom-player .quality-selector.med-quality-selector').attr('data-quality').
              replace('//stream', '//meta').replace('-med', '_current.json').
              replace('pcradio.ru', 'fmcube.net'),
        dataType: 'json',
        //headers: { 'Access-Control-Allow-Origin':'*', 'Access-Control-Allow-Headers':'*'},
        crossDomain: true,
        }).done(function(data){
          console.log(data);
          ans = data;
          var song;

          if (ans.artist != '')
            song = ans.artist + ' - ' + ans.title; 
          else
            song = ans.title;

          //console.log($('.bottom-player .song-artist').text().toLowerCase(),song.toLowerCase());

          if ($('.bottom-player .song-artist').eq(0).text().toLowerCase() != song.toLowerCase() ) {
            $('.bottom-player .song-artist').text(song.toLowerCase()); 
            goMarque ();

            $.ajax({
              url: 'https://itunes.apple.com/search',
              crossDomain: true,
              dataType: 'jsonp',
              data: {
                term: song,
                entity: 'song',
                limit: 1,
                explicit: 'No'
              },
              method: 'GET',
              success: function(data){
                if (data.results[0] !== undefined) {
                  var logo = data.results[0].artworkUrl100.replace('100x100','200x200');
                  $('.bottom-player .song-cover').attr('src', logo ? logo : deflogo);
                } else {
                  $('.bottom-player .song-cover').attr('src', deflogo);
                }
              },
              error: function(e){ 
                $('.bottom-player .song-cover').attr('src', deflogo);
              }
            }); 
          }
        });
}

function get_track_info() {

  var deflogo = '/images/stations/cover-off.jpg';

  $.ajax({
        url: $('.player-block .quality-selector.med-quality-selector').attr('data-quality').
              replace('//stream', '//meta').replace('-med', '_current.json').
              replace('pcradio.ru', 'fmcube.net'), 
        dataType: 'json',
        //headers: { 'Access-Control-Allow-Origin':'https://fmcube.net'},
        crossDomain: true,
        success: function(data){
    
        //data = JSON.parse(data);
        
        console.log(data);
        if ( data.title == '' && data.artist == '' ) {
            $('.station-block .track-ispoln').text('');
            $('.station-block .track-title').text('Прямой эфир');
            //$('#resultsеtitle').append('no signal');
            $('.track-logo').attr("src", deflogo);
        } else {
          var artist, title;
          if (data.artist != '') {
             artist = data.artist;
             title = data.title;
          } else {
            title = data.title.split(' - ');
            artist = title[0];
            title = typeof title[1] !== 'undefined' ? title[1]:'';
          }
          artist = artist.toLowerCase();
          title = title.toLowerCase();
          $('.station-block .track-title').empty().append(artist);
          $('.station-block .track-ispoln').empty().append(title);     
          
          var time = data.time.split(':');
          time = time[0]+':' + time[1];

            //console.log($('.history-list .history-item').eq(0).find('.history-song .b').text(), $('.station-block .track-title').text());
            if ( $('.history-list .history-item').eq(0).find('.history-song .b').text().toLowerCase() != 
                 $('.station-block .track-title').text().toLowerCase() ) {
                tmpbuffertitle = title;

                $.ajax({
            url: 'https://itunes.apple.com/search',
            crossDomain: true,
            dataType: 'jsonp',
            data: {
              term: artist + ' - ' + title,
              entity: 'song',
              limit: 1,
              explicit: 'No'
            },
            method: 'GET',
            success: function(data){
              console.log(data);
              if (data.results[0] !== undefined) {
                var logo = data.results[0].artworkUrl100.replace('100x100','200x200');
                $('.track-logo').attr("src", logo ? logo : deflogo);
                if ( $('.bottom-player .jp-play').attr('data-api_id') == $('.station_id').val() ) {  
                  $('.bottom-player .song-cover').attr('src', logo ? logo : deflogo);
                } 
              } else {
                $('.track-logo').attr('src', deflogo);
                if ( $('.bottom-player .jp-play').attr('data-api_id') == $('.station_id').val() ) {  
                  $('.bottom-player .song-cover').attr('src', deflogo);
                } 
              }
            },
            error: function(e){ 
              console.log(e);
              $('.track-logo').attr('src', deflogo);
              if ( $('.bottom-player .jp-play').attr('data-api_id') == $('.station_id').val() ) {  
                  $('.bottom-player .song-cover').attr('src', deflogo);
              } 
            }
          }); 

                $('.history-list').prepend("<div class='history-item'><span class='history-time'>"+time+
                                               "</span> <img alt='' class='history-dropdown-button' src='/images/icon-navigation-menu-vertical.png'> "+
'<span class="history-dropdown" style="display: none;">' +
'<a class="history-dropdown-item" data-hint="Видео в YouTube" href="https://www.youtube.com/results?search_query='+ artist+ '-' + title + '" target="_blank">' +
  '<img alt="" src="/images/black-tube-search.png">' +
'</a>' +
'<span class="history-copy history-dropdown-item" data-hint="Copy">' + 
  '<img alt="" src="/images/history-copy.png">' +
'</span>' +
'</span>' +

                                               "<span class='history-song'><span class='b'>" + artist+ "</span> -  <span class='n'>" + title+"</span></div>");
                $('.history-list .history-item').eq(10).remove();

      if ( $('.bottom-player .jp-play').attr('data-api_id') == $('.station_id').val() ) {  
          
          $('.bottom-player .song-artist').empty().append(artist+ ' - '+ title); 
          goMarque ();
      }
            
            }
        }
        
    }
  });

  }

function cards_cat_check() {
  $('.col-md-five .cat-list').each( function() {
    var delta = $(this).closest('.total-search-results').length ? 27 : 25;
    var cat_list = $(this).find('.cat-in-list');
    if (cat_list.length == 1) return;
    
    var el = cat_list[0].getBoundingClientRect();
    var w = $(this).width() - el.width - delta;
    if (w<50) {
      $(cat_list[1]).hide();
    } else {
      console.log('=====', $(this).width(), el.width, w);
      $(cat_list[1]).css('display', 'inline-block');
      $(cat_list[1]).css('maxWidth', w+'px');
    }      
  });
}

function load_page_scripts() {

  header_cat_check();
  cards_cat_check();
  genres_control_check();
  country_control_check();

  $('.main-page .category-loader').click(function() {
    $('.ajax-wrapper').load( '/?cat_id=' + $(this).attr('data-cat_id') + ' .ajax-inner', function() {
            $('.magic-column a img').each(function() {
               var th = $(this);
               setTimeout ( function() {
                 th.animate({'opacity':1}, getRandomInt(200, 400));
               }, getRandomInt(0, 500) );
            });
    });
  });


  $('.magic-column a img').each(function() {
               var th = $(this);
               setTimeout ( function() {
                 th.animate({'opacity':1}, getRandomInt(200, 400));
               }, getRandomInt(0, 500) );
  });


  topSc = $('.comments-list-wrapper').prop('scrollHeight');
  $('.comments-list-wrapper').scrollTop(topSc);

  //console.log('+++++',$('#radio-share').length);
  if ($('#radio-share').length) { 
    Ya.share2('radio-share', { content: {
        image: $('meta[property="og:image"]').attr('content'),
        url: $('meta[property="og:url"]').attr('content'),
        title: $('meta[property="og:title"]').attr('content'),
        description: $('meta[property="og:description"]').attr('content'),
    }}); 
  } 
/*
  if (is_safari) {
     $('.lazyload').each(function() {
       $(this).attr( 'data-src', $(this).attr('data-src').replace(/.webp/, '.jpg') );
     });
     $('.station-logo').each(function() {
       $(this).attr( 'src', $(this).attr('src').replace(/.webp/, '.jpg') );
     });
     $('.station-background').each(function() { 
       $(this).css( 'backgroundImage', $(this).css('backgroundImage').replace(/.webp/, '.jpg') );
     });  
     $('.stations-list-title-wrapper').each(function() {
       $(this).css( 'backgroundImage', $(this).css('backgroundImage').replace(/.webp/, '.jpg') );
     }); 
  }
*/
  if(iOS()) {
    $('.volume-bar').hide();
  }

  lazyload(); 
 
   if ( $('.station_id').val() != 0) {

    if (load_css) {
      $('head').prepend('<link rel="stylesheet" type="text/css" href="/css/jquery.emojipicker.css">');
      load_css = false;
    }

  console.log('------', $('.bottom-player .jp-stop').css('display') );
  if ($('.station_id').val() == $('.playing_id').val() && $('.bottom-player .jp-stop').css('display') !== 'none' ) {
    $('.jp-play').hide();
    $('.jp-stop').show();
    $('.jp-audio').addClass('jp-state-playing');
    $('audio').attr('crossorigin', "anonymous");
    goPulse(false);
  }

    
  $('.volume-bar').slider({
    range: "min",
    min: 0,
    max: 100,
    value: $('.volume').val(),
    animate: 'slow',
    slide: function( event, ui ) {
      radio_cur.Volume( ui.value / 100);

      $('.volume').val(ui.value);

      if (ui.value == 0) {
        $('.mute-button').addClass('mute'); 
        $('.bottom-mute-button').addClass('mute');
        $('.mute-button img').attr('src', '/images/volume-icon-off.png');
        $('.bottom-mute-button img').attr('src', '/images/volume-icon-off.png');
      } else {
        $('.mute-button').removeClass('mute');
        $('.bottom-mute-button').removeClass('mute');
        $('.mute-button img').attr('src', '/images/volume-icon.png');
        $('.bottom-mute-button img').attr('src', '/images/volume-icon.png');
      }

      $( '.volume-vert' ).slider( 'value', ui.value );
      $.ajax ({
        url:'/ajax',
        type:'post',
        data:{set_volume: ui.value}
      })  
    } 
  });



  if ( localStorage.getItem( '/' + $('.action_id').val() + '/' + $('.station_id').attr('data-alias') ) ) {
    //$('input.rating').attr('data-readonly', 'true')
  }

$('input.rating').rating();

$(document).on('change', 'input.rating', function(){
  var block = localStorage.getItem( '/' + $('.action_id').val() + '/' + $('.station_id').attr('data-alias') );
  if ( block - time() > 0 ) { // Math.ceil((block - time())/(3600*24))
    my_alert ('You can rate 1 time in 7 days','fail');
    setTimeout (function(){
          var d1 = Math.trunc($('.rating-value.for-restore').text()*1);
          var d2 = $('.rating-value.for-restore').text()*1 - d1;
          $('.rating-symbol-foreground').css('width', '0%');
          $('.rating-symbol-background').css('visibility', 'visible');
          for (var i = 0; i < d1; i++ ) {
            $('.rating-symbol').eq(i).find('.rating-symbol-foreground').css('width', 'auto').css('left','0px');
          }
          if ( d2 != 0) {
            $('.rating-symbol').eq(d1).find('.rating-symbol-foreground').css('width', '14px').css('left','4px');
          }
        },1000)
    return;
  }
  var rating = $(this).val();
  $.ajax({
      url: '/ajax',
      data: { save_rating: rating, place: '/' + $('.action_id').val() + '/' + $('.station_id').attr('data-alias') },
      type: 'post',
      success: function(ans) {
        ans = ans.split('###');
        localStorage.setItem('/' + $('.action_id').val() + '/' + $('.station_id').attr('data-alias'), time() + 3600*24*7);
        //$('input.rating').attr('data-readonly', 'true').rating();
        $('.rating-votes-value').text(ans[0]);
        $('.rating-value').text(ans[1]);
        var votes = $('.rating-vots').text()*1 + 1;
        $('.rating-vots').text(votes).attr('titile', votes + ' votes');
        setTimeout (function(){
          var d1 = Math.trunc(ans[1]);
          var d2 = ans[1] - d1;
          $('.rating-symbol-foreground').css('width', '0%');
          $('.rating-symbol-background').css('visibility', 'visible');
          for (var i = 0; i < d1; i++ ) {
            $('.rating-symbol').eq(i).find('.rating-symbol-foreground').css('width', 'auto').css('left','0px');
          }
          if ( d2 != 0) {
            $('.rating-symbol').eq(d1).find('.rating-symbol-foreground').css('width', '14px').css('left','4px');
          }
        }, 1500)
      }      
  });    
});
      
console.log ( '=================', $('.action_id').val() );
/*
clearInterval (intComment);
intComment = setInterval (
  function() {
    //topSc = $('.comments-list-wrapper').scrollTop();
    $('.comments-list-wrapper').load( document.location.href + '?get_comment=1 .comments-list',
      function() {
        //$('.comments-list-wrapper').scrollTop(topSc);
      }  
    );        
  }, 60000
);
*/
/*
clearInterval (intSong);
intSong = setInterval (
     function() {
       var t1 = $('.song-time-bar').attr('data-duration')*1 - $('.song-time-bar').attr('data-time')*1 - 1;
       var t = $('.song-time-bar').attr('data-time')*1 + 1;
       t1 = Math.abs(t1);
       t = Math.abs(t);
       $('.song-time-bar').attr('data-time', t).text( (Math.floor(t1/60) <10 ? '0'+Math.floor(t1/60):Math.floor(t1/60)) + ':' + (t1%60 <10 ? '0'+t1%60:t1%60));
       var duration = $('.song-time-bar').attr('data-duration');
       var w = t/duration;
       //console.log($('.duration-bar').width());
       $('.track-block .playing-bar').css('width', w*100+'%');
      }, 1000
);
*/


clearInterval (intPlayer);
if ($('.station_id').val() != 0 ) {
  intPlayer = setInterval ( function() {
    //if ( $('.song-time-bar').attr('data-duration')*1 > 0 && new Date().valueOf()/1000 > $('.song-time-bar').attr('data-end')*1) {
    if ($('.station_id').val() != 0 ) {
        get_track_info();
    }
      //console.log('get_track_info');
    //}
  }, 10000);
}

 if ($('.station_id').val() == $('.playing_id').val()) {
/*
   $('.bottom-player .station-logo').attr('src', $('.station-block .station-logo').attr('src'));
   $('.bottom-player .station-title').text($('.station-block .station-title').text());
   $('.bottom-player .station-return').attr('href', document.location.href);
   $('.bottom-player .jp-play')
      .attr('data-api_id', $('.station_id').val())
      .attr('data-server', $('.station_id').attr('data-server'))
      .attr('data-alias', $('.station_id').attr('data-alias'))
      .attr('data-potok', $('.station-block .med-quality-selector').attr('data-quality'));
*/
   $('.bottom-player .song-artist').text( $('.station-block .track-ispoln').text() + ' - ' + $('.station-block .track-title').text() );
   //$('.bottom-player .song-title').text( );

   $('.bottom-player .song-cover').attr('src', $('.track-logo').attr('src') );
/*
   $('.bottom-player .low-quality-selector').attr('data-quality', $('.station-block .low-quality-selector').attr('data-quality'));
   $('.bottom-player .hi-quality-selector').attr('data-quality', $('.station-block .hi-quality-selector').attr('data-quality'));
   $('.bottom-player .med-quality-selector').attr('data-quality', $('.station-block .med-quality-selector').attr('data-quality'));
   
   if ( $('.favor-button').hasClass('add_favor_action') ) {
     $('.bottom-player .favor-add').removeClass('del_favor_action').addClass('add_favor_action');
     $('.bottom-player .favor-add').attr('src', '/images/favor1.png');
   } else {
     $('.bottom-player .favor-add').removeClass('add_favor_action').addClass('del_favor_action');
     $('.bottom-player .favor-add').attr('src', '/images/favor2.png');
   }
 */
   goMarque();

   clearInterval (intPlay);
   intPlay = setInterval (
     function() {
       ++data_time;
       if ( $('.station_id').val() == $('.playing_id').val() ) {
         //console.log(t, t/60, t%60);
         $('.play-time-bar').text( (Math.floor(data_time/60) <10 ? '0'+Math.floor(data_time/60):Math.floor(data_time/60)) + ':' + (data_time%60 <10 ? '0'+data_time%60:data_time%60));
       }
     }, 1000
   );

  }
  
} 
  
  var IS_TOUCH_DEVICE = ('ontouchstart' in document.documentElement);

  if (!IS_TOUCH_DEVICE /*  !navigator.userAgent.match(/(iPod|iPhone|iPad)/)  */ ) {
    //$('.filter-more-block').niceScroll({autohidemode: false, cursorborder: 'none', cursorwidth:9, cursorcolor:'rgb(223,223,223)'});
    //$('body').niceScroll({autohidemode: false, cursorborder: 'none', cursorwidth:9, cursorcolor:'rgb(223,223,223)'});
  }


  if ( $('.bottom-player .jp-stop').css('display') !== 'none' ) {
    $('.play-pause-button[data-station_id='+$('.playing_id').val()+']').removeClass('off').addClass('on');
  }
/*
  if ( $('.playing_id').val() != 0 && $('.playing_id').val() != $('.station_id').val() 
      || $('.bottom-player').is(':visible')
     ) {
*/
  clearInterval(intSmallPlayer);
  if ( $('.bottom-player').is(':visible') ) {
    $('.bottom-player').show();

    intSmallPlayer = setInterval ( function() {
      //if ( $('.bottom-player .playing-bar').attr('data-duration')*1 >0 && new Date().valueOf()/1000 > $('.bottom-player .playing-bar').attr('data-end')*1 ) {
        get_small_track_info();
        //console.log('get_small_track_info');
      //}
    }, 10000);
  
/*
    clearInterval (intSmallSong);
    intSmallSong = setInterval (
    function() {
       var t = $('.bottom-player .playing-bar').attr('data-time')*1 + 1;
       $('.bottom-player .playing-bar').attr('data-time', t);
       var duration = $('.bottom-player .playing-bar').attr('data-duration');
       var w = t/duration;
       //console.log($('.duration-bar').width());
       $('.bottom-player .playing-bar').css('width', w*100+'%');
      }, 1000
    );
*/
  }  

  $('.stsions-button').empty().append('<img alt="" class="menu-icon" src="/images/icon-stations.png">Stations');
  if ($('.new_stations').val() != 0) {
     $('.stsions-button').append("<div class='new-station-stiker'>+" + $('.new_stations').val() + "</div>");
     $('.new-stations-block-title').append("<div class='new-station-stiker'>+" + $('.new_stations').val() + "</div>");
  }

  autosize($('.send-area textarea'));
  //autosize($('.contact-area textarea'));

  $('.filter-select').select2({minimumResultsForSearch:Infinity, language: "ru", width:'315px'});
  $('.add-radio-form-select').select2({maximumSelectionLength: 2, language: "ru", width:'calc(33% - 10px)'});
  $('.mail-type-select').select2({minimumResultsForSearch: -1, language: "ru", width:'100%'});

  $('.add-radio-form-select').on('select2:open', function (e) {
    $('.select2-results__options').niceScroll({autohidemode: false, cursorborder: 'none', cursorwidth:9, cursorcolor:'rgb(223,223,223)'});
    setTimeout( function() { $('body').addClass('notscroll'); }, 100);
  });
  $('.add-radio-form-select').on('select2:close', function (e) {
    $('body').removeClass('notscroll');
  });

  $('.owner-check').styler();
  $('.delete-profile-input').styler();

  $('.stations-list').each(function(){
    if ( $(this).hasClass('wo-controls') ) return;
    if ($(this).find('.vertical-cards').length) {
      var nav_width = $(this).find('.vertical-cards').outerWidth(true) * $(this).find('.vertical-cards').length;
      $(this).find('.stations-list-inner').css('width', nav_width + 'px');
    } else {
      var nav_width = $(this).find('.col-md-five').outerWidth(true) * $(this).find('.col-md-five').length;
      $(this).find('.stations-list-inner').css('width', nav_width + 'px');
    }
  });

  if (!IS_TOUCH_DEVICE ) {
    $(".dropdown-list-inner").each(function() {
      //$(this).niceScroll({autohidemode: true, cursorborder: 'none', cursorwidth:0, cursorcolor:'#fff'});
    });
  }



  if ( $('.app-images-wrapper').length) { 
  setTimeout ( function() {
    var width=0, ncatbut=0;
    $('.app-images-wrapper .appscreen').each(function(){
      width += $(this).outerWidth() + 20;
      console.log('wwww', $(this).outerWidth(), width);
      ++ncatbut;
      if (ncatbut == $('.app-images-wrapper .appscreen').length ) {
        if (!IS_TOUCH_DEVICE ) {
          $('.app-images-inner').width(width);
          $(".app-images-wrapper").niceScroll({autohidemode: true, cursorborder: 'none', cursorwidth:0, cursorcolor:'#fff'});
        }
      }
    });
  }, 500);
  } else {
    $('.nicescroll-rails').remove();
  }

  $('#overflow').hide();
  $('.ajax-big-loader').hide();

}

function load_page (href, h_push) {

  $('#overflow').show();
  $('.ajax-big-loader').show();
      
      $.ajax({
        url: href,
        data: { autoplay: $('.playing_id').attr('data-alias') != '' ? $('.playing_id').attr('data-alias') : $('.bottom-player .jp-play').attr('data-alias') },
        type: 'post',
        success: function(ans) {  

          if (h_push) {
            history.pushState(null, null, href);
          }


          var div = document.createElement('div');
          div.innerHTML = ans;
          var elem = div.querySelector('#body-inner');
          $('#body-inner').empty().append(elem.innerHTML)

          console.log(href);

          $('body').removeClass();

          if (href == '/radiostations') $('body').addClass('allstations-page-body');
          if (href == '/contact') $('body').addClass('contact-page-body');
          if ( href.indexOf('/privacy_policy') !== -1 ) $('body').addClass('privacy-page-body');
          if (href == '/') $('body').addClass('main-page-body');
          if (href.indexOf('/zhanr/') != -1 ) $('body').addClass('genre-page-body');
          if (href.indexOf('/search') != -1 ) $('body').addClass('search-page-body');
          if (href.indexOf('/add_radio') != -1 ||
              href.indexOf('/edit-radio') != -1 ||
              href.indexOf('/mail.html') != -1 
            ) $('body').addClass('add-radio-page-body');
          

          //var $ans = $(ans);
          //$('body').empty().append( $ans.find('#body-inner') );

          $('.station_id').val(div.querySelector('.station_id').value);
          document.title = div.querySelector('title').innerHTML;
          $('meta[name=description]').attr('content', div.querySelector('meta[name=description]').content);
          
          $('meta[property="og:title"]').attr('content', div.querySelector('meta[property="og:title"]').content);
          $('meta[property="og:description"]').attr('content', div.querySelector('meta[property="og:description"]').content);
          $('meta[property="og:type"]').attr('content', div.querySelector('meta[property="og:type"]').content);
          if (div.querySelector('meta[property="og:image"]'))
            $('meta[property="og:image"]').attr('content', div.querySelector('meta[property="og:image"]').content);
          $('meta[property="og:url"]').attr('content', div.querySelector('meta[property="og:url"]').content);
          $('html').scrollTop(0);
          load_page_scripts();
        }
      }) 
      //$('form#loadpage').attr('action',$(this).attr('href')).submit();
      return false;

}

function genres_control_check () {
  var elem = $('.dropdown-genres-list .dropdown-list-inner')[0];
  var vis = $('.dropdown-genres-list').is(':visible');
  if (!vis) {
    $('.dropdown-genres-list').show();
  }
  if ( elem.clientHeight < elem.scrollHeight ) {
    $('.dropdown-genres-list  .dropdown-control-block').show();
  } else {
    $('.dropdown-genres-list  .dropdown-control-block').hide();
  }
  if (!vis) {
    $('.dropdown-genres-list').hide();
  }
}

function country_control_check () {
  var elem = $('.dropdown-country-list .dropdown-list-inner')[0];
  var vis = $('.dropdown-country-list').is(':visible');
  if (!vis) {
    $('.dropdown-country-list').show();
  }
  if ( elem.clientHeight < elem.scrollHeight ) {
    $('.dropdown-country-list  .dropdown-control-block').show();
  } else {
    $('.dropdown-country-list  .dropdown-control-block').hide();
  }
  if (!vis) {
    $('.dropdown-country-list').hide();
  }
}

$(function(){

  $(window).resize(function() {
    goMarque();
    header_cat_check();
    cards_cat_check();
    genres_control_check();
    country_control_check();
  });

  $(document).on('click', 'a', function() {
    $('.emojiPicker').hide();
    if ($(this).hasClass('genres-list-button')) return;
    if ($(this).hasClass('comment-text')) return;
    if ($(this).hasClass('country-list-button')) return;
    if ($(this).hasClass('apps-list-button')) return;
    if ($(this).hasClass('total-search')) return;
    if ($(this).hasClass('search-button')) return;
    if ($(this).hasClass('similar-station-button')) return;
    if ($(this).closest('.comments-list .pagination').length != 0 && !$(this).parent().hasClass('active')) return false;
    if ($(this).hasClass('goto-comments')) {
      $([document.documentElement, document.body]).animate({
        scrollTop: $("#comments").offset().top
      }, 500);      
      return false;
    }
    if ($(this).hasClass('user')) return false;
    if ($(this).attr('target') == '_blank') return;

    if ( $('.playing_id').val() != 0 || $('.bottom-player').is(':visible')) { 
      if ($(this).parent().hasClass('ajax-load-more')) {
        $(this).parent().click();
        return false;
      } else {
        load_page ( $(this).attr('href'), true );
        return false;
      } 
    }

  });

  window.addEventListener("popstate", function(e) {
	  load_page ( document.location.pathname, false );
    return false;
	});

  $(document).on('click', '.quality-block', function() {
    $(this).next().toggle();
    $(this).find('.quality-caret-down').toggleClass('open');
  });

  $(document).on('click', '.comments-list .pagination a', function() {
    if ($(this).parent().hasClass('active')) return;
    $('#overflow').show();
    $('.ajax-big-loader').show();
    $('.comments-list-wrapper').load( $(this).attr('href') + '?get_comment=1 .comments-list', function(){
      $([document.documentElement, document.body]).animate({
        scrollTop: $("#comments").offset().top
      }, 500);
      $('#overflow').hide();
      $('.ajax-big-loader').hide();
    });  
  })

$(document).on('click', '.quality-drop-down .quality-selector', function() {
/*
  var active = $(this).hasClass('active');
  if ($(this).hasClass('active') && $(this).closest('.bottom-player').length == 0 && document.body.clientWidth > 768 ) return;

  $('.quality-selector.active').addClass('wasactive');
  $('.quality-selector').addClass('active');
  $('.quality-selector.wasactive').removeClass('wasactive').removeClass('active');  

  if ( !active ) {
    $(this).addClass('active');
  } 
*/
    $.ajax ({
        url:'/ajax',
        type:'post',
        data:{set_quality: $(this).attr('data-set-quality')}
    })  
  $('.quality').val($(this).attr('data-set-quality'));
  $('.quality-drop-down .quality-selector').removeClass('selected');
  $(this).addClass('selected');
  $('.quality-drop-down .quality-selector .quality-selected').each(function(){
    $(this).attr('src', $(this).attr('data-src')+'black.png');
  })
  $(this).find('.quality-selected').attr('src', $(this).find('.quality-selected').attr('data-src')+'blue.png');
  $('.quality-block .quality-selector').attr('data-quality', $(this).attr('data-quality'));
  $('.quality-block .quality-selector').text($(this).attr('data-text'));
  $('.quality-block .icon-live-notice').attr('src', $(this).find('.quality-selected').attr('data-src')+'blue.png');
  
  if ( $('.playing_id').val() != 0 && $('.bottom-player .jp-stop').is(':visible') ) {
    radio_cur.Play($('.bottom-player .quality-selector.active').attr('data-quality'));
    $('audio').attr('crossorigin', "anonymous");
    goPulse(true);
  }
});

$(document).on('click', '.mute-button, .bottom-mute-button', function() {
  if (!$('.bottom-player').is(':visible')) return;
  if ($(this).hasClass('mute')) {
    $('.mute-button').removeClass('mute');
    $('.bottom-mute-button').removeClass('mute');
    if ( iOS() ) {
      radio_cur.Play($('.bottom-player .quality-selector.active').attr('data-quality'));
    } else
      radio_cur.Volume($('.volume').val()/100);
    $('.mute-button img').attr('src', '/images/volume-icon.png');
    $('.bottom-mute-button img').attr('src', '/images/volume-icon.png');

    $('.volume-bar' ).slider( 'value', $('.volume').val() );
    $('.volume-vert' ).slider( 'value', $('.volume').val() );

  } else {
    $('.mute-button').addClass('mute');
    $('.bottom-mute-button').addClass('mute');
    $('.volume-bar' ).slider( 'value', 0 );
    $('.volume-vert' ).slider( 'value', 0 );
    if ( iOS() )
      radio_cur.Stop();
    else
      radio_cur.Volume(0);
    $('.mute-button img').attr('src', '/images/volume-icon-off.png');
    $('.bottom-mute-button img').attr('src', '/images/volume-icon-off.png');
  }
});

$(document).on('click', '.jp-play', function() {
 if ($(this).closest('.bottom-player').length == 0 ) {
   //console.log($('.quality-selector.active').attr('data-quality'));
   radio_cur.Play($('.player-block .quality-selector.active').attr('data-quality'));
   $('.jp-audio').addClass('jp-state-playing'); 

   $('audio').attr('crossorigin', "anonymous");

   goPulse(true);
 
   clearInterval (intPlay);
   data_time = 0;
   intPlay = setInterval (
     function() {
       ++data_time;
       if ( $('.station_id').val() == $('.playing_id').val() ) {
         //console.log(t, t/60, t%60);
         $('.play-time-bar').text( (Math.floor(data_time/60) <10 ? '0'+Math.floor(data_time/60):Math.floor(data_time/60)) + ':' + (data_time%60 <10 ? '0'+data_time%60:data_time%60));
       }
     }, 1000
   );
 
   $('.playing_id').val($('.station_id').val()).attr('data-alias', $('.station_id').attr('data-alias'));

   $('.bottom-player .station-logo').attr('src', $('.station-header .station-logo').attr('src'));
   $('.bottom-player .song-title').text($('.station-header .station-title').attr('data-title'));
   $('.bottom-player .station-return').attr('href', document.location.href);
   $('.bottom-player .jp-play')
      .attr('data-api_id', $('.station_id').val())
      .attr('data-server', $('.station_id').attr('data-server'))
      .attr('data-alias', $('.station_id').attr('data-alias'))
      .attr('data-potok', $('.station-block .med-quality-selector').attr('data-quality'));

   $('.bottom-player .song-artist').text( $('.station-block .track-title').text() + ' - ' +  $('.station-block .track-ispoln').text());
   //$('.bottom-player .song-title').text( );

   $('.bottom-player .song-cover').attr('src', $('.track-logo').attr('src') );

   $('.bottom-player .low-quality-selector').attr('data-quality', $('.station-block .low-quality-selector').attr('data-quality'));
   $('.bottom-player .hi-quality-selector').attr('data-quality', $('.station-block .hi-quality-selector').attr('data-quality'));
   $('.bottom-player .med-quality-selector').attr('data-quality', $('.station-block .med-quality-selector').attr('data-quality'));
   
   if ( $('.station-data .favor-button').hasClass('add_favor_action') ) {
     $('.bottom-player .favor-add').removeClass('del_favor_action').addClass('add_favor_action');
     $('.bottom-player .favor-add').attr('src', '/images/favor1.png');
   } else {
     $('.bottom-player .favor-add').removeClass('add_favor_action').addClass('del_favor_action');
     $('.bottom-player .favor-add').attr('src', '/images/favor2.png');
   }

   $('.bottom-player').show();

   goMarque ();

   $('.jp-stop').show();
   $('.jp-play').hide(); 

   $('.play-pause-button').removeClass('on').addClass('off');
 } else {
   $('.bottom-player .jp-stop').show();
   $('.bottom-player .jp-play').hide();  
   radio_cur.Play($(this).attr('data-potok')); 
   if ($('.station_id').val() == $(this).attr('data-api_id') ) {
     $('.jp-audio').addClass('jp-state-playing');
     $('.jp-audio .jp-stop').show();
     $('.jp-audio .jp-play').hide(); 
     
     $('audio').attr('crossorigin', "anonymous");
     goPulse(true);
     clearInterval (intPlay);
     data_time = 0;
     intPlay = setInterval (
       function() {
         ++data_time;
         if ( $('.station_id').val() == $('.playing_id').val() ) {
           //console.log(t, t/60, t%60);
           $('.play-time-bar').text( (Math.floor(data_time/60) <10 ? '0'+Math.floor(data_time/60):Math.floor(data_time/60)) + ':' + (data_time%60 <10 ? '0'+data_time%60:data_time%60));
         }
       }, 1000
     );
   } 
   $('.play-pause-button[data-station_id='+$(this).attr('data-api_id')+']').removeClass('off').addClass('on');
   $('.playing_id')
     .val($(this).attr('data-api_id'))
     .attr('data-server', $(this).attr('data-server'))
     .attr('data-alias', $(this).attr('data-alias'));
 }

  var listen = get_cookie('listen');
  if (listen)
    listen = listen.split(',');
  else 
    listen = [];
  if ( listen.indexOf($('.playing_id').val()) == -1 )
    listen.push($('.playing_id').val());
  listen = listen.join(',');
  document.cookie = "listen="+listen+"; path=/; expires=01/01/2030 00:00:00"; 
});

$(document).on('click', '.jp-stop, .play-pause-button.on', function() {
   radio_cur.Stop();
   clearInterval (intPulse);
   $('#canvas').empty();
   $('.jp-audio').removeClass('jp-state-playing');
   $('.playing_id').val(0).attr('data-alias', '');
   clearInterval(intPlay);
   $('.play-time-bar').text('00:00');
   data_time = 0;
   $('.jp-stop').hide();
   $('.jp-play').show();

   $('.play-pause-button').removeClass('on').addClass('off');
});

$(document).on('click', '.play-pause-button.off', function() {
   //console.log($('.quality-selector.active').attr('data-quality'));
   radio_cur.Play($(this).attr('data-'+$('.quality').val()));
   $('.jp-audio').addClass('jp-state-playing'); 

   $('audio').attr('crossorigin', "anonymous");

   goPulse(true);
 
   $('.playing_id').val($(this).attr('data-station_id')).attr('data-alias', $(this).attr('data-alias'));

  var listen = get_cookie('listen');
  if (listen)
    listen = listen.split(',');
  else 
    listen = [];
  if ( listen.indexOf($('.playing_id').val()) == -1 )
    listen.push($('.playing_id').val());
  listen = listen.join(',');
  document.cookie = "listen="+listen+"; path=/; expires=01/01/2030 00:00:00"; 

   var card = $(this).closest('.col-md-five').find('.station-in-list-small');

   $('.bottom-player .station-logo').attr('src', card.find('.station-in-list-logo').attr('data-src'));
   $('.bottom-player .song-title').text(card.find('.station-in-list-title').text());
   $('.bottom-player .station-return').attr('href', card.attr('href'));
   $('.bottom-player .jp-play')
      .attr('data-api_id', $(this).attr('data-station_id'))
      .attr('data-alias', $(this).attr('data-alias'))
      .attr('data-potok', $(this).attr('data-med'));

   $('.bottom-player .song-artist').text( '' );
   //$('.bottom-player .song-title').text( '' );

   $('.bottom-player .favor-add').attr('data-station_id', $(this).attr('data-station_id'));

   $('.bottom-player .song-cover').attr('src', '/images/stations/cover-off.jpg' );

   $('.bottom-player .low-quality-selector').attr('data-quality', $(this).attr('data-low'));
   $('.bottom-player .hi-quality-selector').attr('data-quality', $(this).attr('data-hi'));
   $('.bottom-player .med-quality-selector').attr('data-quality', $(this).attr('data-med'));

   var izbr = $(this).closest('.col-md-five').find('.favor-button').hasClass('del_favor_action');

   if (izbr) {
    $('.bottom-player .favor-add').removeClass('add_favor_action').addClass('del_favor_action').attr('src', '/images/favor2.png');
   } else {
    $('.bottom-player .favor-add').removeClass('del_favor_action').addClass('add_favor_action').attr('src', '/images/favor1.png');
   }

   $('.bottom-player').show();

   goMarque ();

   $('.bottom-player .jp-stop').show();
   $('.bottom-player .jp-play').hide(); 

   $('.play-pause-button').removeClass('on').addClass('off');
   $(this).removeClass('off').addClass('on');
   
   data_time = 0;
   load_page ('/radio/'+$(this).attr('data-alias'), true);
});


$(document).click(function(e){
    console.log(e.target.className); 

    if ( e.target.className !=  'comment-dropdown-menu-button')
      $( '.comment-dropdown-menu-list').hide();
    if ( e.target.className != 'navbar-toggle' && 
         e.target.className != 'total-search-input' &&
         $(e.target).closest('#w0-collapse').length == 0 &&
         $(e.target).closest('.select2').length == 0 &&
         //$(e.target).closest('.dropdown-country-list').length == 0 &&
         !$(e.target).hasClass('dropdown-control-block') &&
         $(e.target).closest('.dropdown-control-block').length == 0 &&
         e.target.className.indexOf('country-sort-item') == -1 &&
         e.target.className != 'country-search'
       ) {
      $( '#w0-collapse').removeClass('in').attr('aria-expanded', false);
      $('.country-list-button').addClass('close-countries').removeClass('open-countries');
      $('.dropdown-country-list').hide();
      $('body').removeClass('notscroll');
    }
    if ( e.target.className != 'navbar-toggle' && 
         e.target.className != 'total-search-input' &&
         $(e.target).closest('#w0-collapse').length == 0 &&
         $(e.target).closest('.select2').length == 0 &&
         //$(e.target).closest('.dropdown-country-list').length == 0 &&
         !$(e.target).hasClass('dropdown-control-block') &&
         $(e.target).closest('.dropdown-control-block').length == 0 &&
         e.target.className.indexOf('genre-sort-item') == -1 &&
         e.target.className != 'genre-search' 
       ) {
      $( '#w0-collapse').removeClass('in').attr('aria-expanded', false);
      $('.genres-list-button').addClass('close-genres').removeClass('open-genres');
      $('.dropdown-genres-list').hide();
      $('body').removeClass('notscroll');
    }
    if ( e.target.className != 'login-user-block' && e.target.className != 'login-user-img')
       $('.login-user-block').hide();

    if ( e.target.className != 'info-button' && $(e.target).closest('.info-drop-block').length == 0)
       $('.info-drop-block').hide();
    
    if ( !$(e.target).hasClass('active') && $(e.target).closest('.active').length == 0)
       $('.mobile-pagination-wrapper').removeClass('open');

    if ( $(e.target).closest('.history-item').length == 0 && e.target.className != 'history-item') {
       $('.history-dropdown').hide();
       $('.history-item').removeClass('open-menu');
    }

    var $e = $(e.target);
    //console.log ($e);
    if( !$e.hasClass('rating-block-button') && $e.closest('.rating-block-button').length == 0 ) {
      $('.rating-block').removeClass('mobile-show');
    }
    if( !$e.hasClass('soc-share-mobile') && $e.closest('.soc-share-mobile').length == 0 ) {
      $('.soc-share').addClass('mobile-hidden');
    }
    if( !$e.hasClass('volume-vert-wrapper') && $e.closest('.volume-vert-wrapper').length == 0 ) {
      $('.volume-vert-wrapper').hide();
    }

    if ( !$e.hasClass('more-filter-open') && !$e.parent().hasClass('more-filter-open') && !$e.hasClass('filter-more-block') && $e.closest('.filter-more-block').length == 0 ) {
      $('.filter-more-block').hide();
      $('.more-filter-open').removeClass('open');
    }
    if( !$e.hasClass('quality-block') && $e.closest('.quality-block').length == 0 ) {
      $('.quality-drop-down').hide();
      $('.quality-caret-down').removeClass('open');
    }
 /*      
    if ( e.target.className != 'total-search-img' && 
         e.target.className != 'dropdown-search-window' &&
         e.target.className != 'station-image-img' &&
         e.target.className != 'total-search-input' &&
         e.target.className != 'station-in-search' &&
         e.target.className != 'station-name'  
       ) {
      $('.dropdown-search-window').hide();
      $('body').removeClass('notscroll');
    }
*/
    if ($('.emojiPicker').is(":visible")  ) {
        if ( event.target.parentNode.className != 'smile-button' && event.target.className.indexOf('emoji') == -1 && !(event.target.parentNode.className == 'emojiPicker' || event.target.parentNode.parentNode.className == 'emojiPicker' || event.target.parentNode.parentNode.parentNode.className == 'emojiPicker')) {
          $('.emojiPicker').hide();
        }
    }
    if ($('.soc-share-opener').is(":visible") && 
        e.target.className != 'soc-share-opener' && 
        e.target.parentNode.className != 'soc-share-opener' 
       ) {
      $('.soc-share').hide();
    }
  });

  $(document).on('click', '.seach-window-close', function() {
    $('.dropdown-search-window').hide();
    $('body').removeClass('notscroll');
  })


  $(document).on('click', '.search-button', function() {
    $('.dropdown-genres-list').hide();
    $('.dropdown-country-list').hide();
    $('#w0-collapse').removeClass('in').attr('aria-expanded','false');
    $('.dropdown-search-window').show();
    $('body').addClass('notscroll');
    return false;
  });

  $(document).on('click', '.finger-up-button', function() {
      var th = $(this);
      var t = th.closest('.comment-info').find('span');
      $.ajax({
        url: '/ajax',
        data: { finger_up: th.attr('data-comment_id') },
        type: 'post',
        success: function(ans) {  
          if (ans.length > 5) {
           t.text(t.text()*1+1);
           if (t.text()*1 >= 0 ) { t.removeClass('finger-down').addClass('finger-up'); }
           else { t.removeClass('finger-up').addClass('finger-down'); }
          }
        }
      });     
  });
  $(document).on('click', '.finger-down-button', function() {
      var th = $(this);
      var t = th.closest('.comment-info').find('span');
      $.ajax({
        url: '/ajax',
        data: { finger_down: th.attr('data-comment_id') },
        type: 'post',
        success: function(ans) {   
          if (ans.length > 5) {
           t.text(t.text()*1-1);
           if (t.text()*1 >= 0 ) { t.removeClass('finger-down').addClass('finger-up'); }
           else { t.removeClass('finger-up').addClass('finger-down'); }
          }
        }
      });     
  });

  $(document).on('click', '.appscreen img, .bigappscreen img', function(){
    $('#screenshotBox').modal('hide');
    $('#screenshotBox .modal-body img').attr('src', '/images/app/large/' + $(this).attr('data-src').replace('.png','.jpg'));
    $('#screenshotBox').modal('show');
  });

  $(document).on('click', '.apps-list-button', function(){
    $('.apps-list-item').toggleClass('hidden-item');
    $(this).toggleClass('open-apps');
    return false;
  });

  
    $(document).on('click', '.no-login-user', function(){
      $('.modal').modal('hide');
      //my_alert ('Авторизация и регистрация временнно закрыты по техническим причинам', 'fail');
      show_login();
      return false;
    });

    $(document).on('click', '.login-user', function(){
      $.ajax({
        url: '/logout',
        data: { },
        type: 'post',
        success: function(ans) {   
          load_page(document.location.href, false);
        }
      }); 
      return false;
    });

    $(document).on('click', '.go-to-login', function(){
      $('.modal').modal('hide');
      $('.modal').on( 'hidden.bs.modal', show_login); 
      return false;
    });

    $(document).on('click', '.go-to-registr', function(){
      $('.modal').modal('hide');
      $('.modal').on( 'hidden.bs.modal', show_sign_up);
      return false;
    });

    $(document).on('click', '.go-to-remember', function(){
      $('.modal').modal('hide');
      $('.modal').on( 'hidden.bs.modal', show_remember);
      return false;
    });


  $(document).on('change', '.required, .logo-link.error', function(){
    if ($(this).hasClass('owner-check')) return;
    if ($(this).val()=='') {
       $(this).addClass('error').attr('placeholder', 'Заполните поле');
     } else {
       $(this).removeClass('error').attr('placeholder', '');
       $('.save-station-order').removeClass('error');
       $('.send-support').removeClass('error');
     }
  });

  $(document).on('blur', '.required, .logo-link.error', function(){
    if ($(this).hasClass('owner-check')) return;
    if ($(this).val()=='') {
       $(this).addClass('error').attr('placeholder', 'Заполните поле');
     } else {
       $(this).removeClass('error').attr('placeholder', '');
       $('.save-station-order').removeClass('error');
       $('.send-support').removeClass('error');
     }
  });

  $(document).on('focus', '.required, .logo-link.error', function(){
    if ($(this).hasClass('owner-check')) return;
    $(this).removeClass('error').attr('placeholder', '');
    $('.save-station-order').removeClass('error');
    $('.send-support').removeClass('error');
  });


    $(document).on('submit', '#login-form', function() {
     var able = true;
     if ($('#loginBox #loginform-email').val()=='') {
       able = false;
       $('#loginBox #loginform-email').parent().find('.form-control').addClass('error').attr('placeholder', 'Заполните поле');
     }
     
     if ($('#loginBox #loginform-password').val()=='') {  
       able = false;
       $('#loginBox #loginform-password').parent().find('.form-control').addClass('error').attr('placeholder', 'Заполните поле');
     }
     
     if (!able) {
       return false
     }


     var data = $(this).serialize();
     
     $.ajax({
       url: '/ajax',
       data: data,
       type: 'post',
       success: function(ans) {
         $('#loginBox .required').parent().find('.form-error').text('').hide();
         $('#loginBox .required').removeClass('error');
         if (ans.length < 20 ) {
             $('.modal').modal('hide');
             load_page(document.location.href, false);
         } else {
           ans = ans.split('#');
           $('#loginBox #' + ans[1]).parent().find('.form-control').val('').addClass('error').attr('placeholder', ans[0]);
         }
       }
    });  

    return false;
  });

  $(document).on('submit', '#remember-form', function() {
     var able = true;
     if ($('#rememberBox #loginform-email').val()=='') {
       able = false;
       $('#rememberBox #loginform-email').parent().find('.form-control').addClass('error').attr('placeholder', 'Заполните поле');
     }
     
     if (!able) {
       return false
     }

     var data = $(this).serialize();
     
     $.ajax({
       url: '/ajax',
       data: data,
       type: 'post',
       success: function(ans) {
         if ( ans.indexOf('Email отправлен') != -1 ) {
           $('.modal').modal('hide');
           $('.modal').on( 'hidden.bs.modal', show_login); 
           ans = ans.split('#');
           my_alert(ans[0], ans[1]); 
         } else {
          if ( ans.indexOf('не найден на сайте') != -1 ) {
            $('#rememberBox #loginform-email').parent().find('.form-control').val('').addClass('error').attr('placeholder', ans);
          } else {
            ans = ans.split('#');
            my_alert(ans[0], ans[1]);           
          }
         }
       }
    });  

    return false;
  });

    $(document).on('submit', '#signup-form', function() {
     var able = true;
     if ($('#signup-form #loginform-email').val()=='') {
       able = false;
       $('#signup-form #loginform-email').parent().find('.form-control').addClass('error').attr('placeholder', 'Заполните поле');
     }

     if ($('#signup-form #loginform-username').val()=='') {
       able = false;
       $('#signup-form #loginform-username').parent().find('.form-control').addClass('error').attr('placeholder', 'Заполните поле');
     }
     
     if ($('#signup-form #loginform-password').val()=='') {  
       able = false;
       $('#signup-form #loginform-password').parent().find('.form-control').addClass('error').attr('placeholder', 'Заполните поле');
     }

     if ($('#signup-form #loginform-password-2').val()=='') {  
       able = false;
       $('#signup-form #loginform-password-2').parent().find('.form-control').addClass('error').attr('placeholder', 'Заполните поле');
     }
     
     if (!able) {
       return false
     }
     
     if ($('#signup-form #loginform-password').val()!=$('#signup-form #loginform-password-2').val()) {  
       able = false;
       $('#signup-form #loginform-password-2').parent().find('.form-control').val('').addClass('error').attr('placeholder', 'Пароли не совпадают');
     }

     if (!able) {
       return false
     }

     var data = $(this).serialize();
     
     $.ajax({
       url: '/ajax',
       data: data,
       type: 'post',
       success: function(ans) {
         if (ans.length < 5 ) {
           $('.modal').modal('hide');
           load_page(document.location.href, false);
         } else {
           ans = ans.split('#');
           my_alert(ans[0], ans[1]);
         }
       }
    });  
      
    return false;
  });

  $(document).on ('click', '.genres-list-button', function() {
    $('.dropdown-country-list').hide();
    $(this).toggleClass('close-genres').addClass('open-genres');
    $('.dropdown-genres-list').show();
    setTimeout (function() {
      $('body').addClass('notscroll');
    }, 200 );
    return false;
  });

  $(document).on ('click', '.country-list-button', function() {
    $('.dropdown-genres-list').hide();
    $(this).toggleClass('close-countries').addClass('open-countries');
    $('.dropdown-country-list').show();
    setTimeout (function() {
      $('body').addClass('notscroll');
    }, 200 );
    return false;
  });

  $('.volume-vert').slider({
    range: "min",
    min: 0,
    max: 100,
    orientation: 'vertical',
    value: $('.volume').val(),
    animate: 'slow',
    slide: function( event, ui ) {
      if (ui.value == 0) {
        $('.mute-button').addClass('mute'); 
        $('.bottom-mute-button').addClass('mute');
        $('.mute-button img').attr('src', '/images/volume-icon-off.png');
        $('.bottom-mute-button img').attr('src', '/images/volume-icon-off.png');
      } else {
        $('.mute-button').removeClass('mute');
        $('.bottom-mute-button').removeClass('mute');
        $('.mute-button img').attr('src', '/images/volume-icon.png');
        $('.bottom-mute-button img').attr('src', '/images/volume-icon.png');
      }

      radio_cur.Volume( ui.value / 100);
      $('.volume').val(ui.value);
      $('.volume-bar' ).slider( 'value', ui.value );
      $.ajax ({
        url:'/ajax',
        type:'post',
        data:{set_volume: ui.value}
      })  
    }
  });

  $('.volume-button').mouseover(function() {
    $('.volume-vert-wrapper').show();
  });
  $('.volume-button').mouseleave(function() {
    $('.volume-vert-wrapper').hide();
  });

  $('.icon-close-alert').click(function() {
    $(this).closest('.alert-block, .privacy-block').hide();
    if ($(this).hasClass('privacy-close')) {
      localStorage.setItem('prvc', 'yes');
    }
  });

  if (!localStorage.getItem('prvc')) {
    $('.privacy-block').show();
  }


    $(document).on('click', '.user.login-user', function(){
      $('.login-user-block').show();
    });


  $(document).on('click', '.del_favor_action', function() {

    var sid = $(this).attr('data-station_id');

if ( $('.user_id').val() != 0 ) {

$.ajax({
 url: '/ajax',
 data: {del_favor:sid},
 type: 'post'
});

} else { 
  
      var izbr = get_cookie('izbr' );
      izbr = izbr.split(',');
      var idx = izbr.indexOf(sid);
      //console.log(izbr);
      if (idx != -1) izbr.splice(idx, 1);
      //console.log(idx, izbr);
      izbr = izbr.join(',');
      //console.log("izbr="+izbr+"; expires=01/01/2030 00:00:00");
      let date = new Date(Date.now() + 365*86400*1000);
      date = date.toUTCString();
      console.log (date); 
      document.cookie = "izbr="+izbr+"; path=/; expires="+date;
}
  /*    
      $(this).addClass('add_favor_action').removeClass('del_favor_action')
      var th = $(this);
      if (!th.hasClass('favor-add')) th = th.find('.favor-add');    
      th.attr('src', '/images/favor1.png');
      
      var cnt_span = $(this).find('.favor-count span');
      cnt_span.text(cnt_span.text()*1 - 1);   
  */
    $('.favor-button[data-station_id='+sid+']').addClass('add_favor_action').removeClass('del_favor_action').attr('data-title', 'В избранное');
    $('.favor-add[data-station_id='+sid+']').addClass('add_favor_action').removeClass('del_favor_action').closest('.favor-button-wrapper').attr('data-title', 'В избранное');
    $('.favor-button[data-station_id='+sid+'] .favor-add').attr('src', '/images/favor1.png');
    $('.favor-add[data-station_id='+sid+']').attr('src', '/images/favor1.png');
    $('.favor-button[data-station_id='+sid+'] .favor-count span').text( $('.favor-button[data-station_id='+sid+'] .favor-count span').text()*1-1 );
    if ($('.action_id').val() == 'favorites') {
      var url = document.location.href;

      $('.station-list-ajax-wrapper').load( url + ' .station-list-ajax', function() {
        var cnt = $('.station-list-ajax .col-md-five').length;
        $('.stationlist-count').text(cnt);
        if (cnt == 0) {
          $('.search-block').hide();
          $('.filter-selector').hide();
          $('.more-filter-open').hide();
        }
        lazyload();
        header_cat_check();
        cards_cat_check();
        history.pushState(null, null, url);
      });

    }
  });

  
  $(document).on('click', '.app-images-right-block', function() {
    var ofs = $('.app-images-wrapper').scrollLeft();
    console.log(ofs);
    var cnt = $('.app-images-wrapper .appscreen').length;
    var W = cnt*146;
    var w = $('.app-images-wrapper').width();
    var max_ofs = W - w;
    
    ofs = Math.min (ofs + 146, max_ofs)
    $('.app-images-wrapper').animate({scrollLeft: ofs}, 'slow');
  });

  $(document).on('click', '.app-images-left-block', function() {
    var ofs = $('.app-images-wrapper').scrollLeft();
    console.log(ofs);
    
    ofs = Math.max (ofs - 146, 0)
    $('.app-images-wrapper').animate({scrollLeft: ofs}, 'slow');
  });


  $(document).on('click', '.dropdown-bottom-block', function() {
    var ofs = $(this).closest('.dropdown-mainmenu-list').find('.dropdown-list-inner').scrollTop();
    var W = $(this).closest('.dropdown-mainmenu-list').find('.dropdown-list-inner')[0].scrollHeight;
    var w = $(this).closest('.dropdown-mainmenu-list').find('.dropdown-list-inner')[0].clientHeight;
    var max_ofs = W - w;
    
    ofs = Math.min (ofs + 190, max_ofs)
    $('.dropdown-list-inner').animate({scrollTop: ofs}, 'slow');
  });

  $(document).on('click', '.dropdown-top-block', function() {
    var ofs = $(this).closest('.dropdown-mainmenu-list').find('.dropdown-list-inner').scrollTop();
    ofs = Math.max (ofs - 190, 0)
    $('.dropdown-list-inner').animate({scrollTop: ofs}, 'slow');
  });
  
  
  $(document).on('click', '.add_favor_action', function() {

    var sid = $(this).attr('data-station_id');

    if ($('.user_id').val() != 0) {

      $.ajax({
       url: '/ajax',
       data: {add_favor:sid},
       type: 'post'
      });

    } else { 
  
      var izbr = get_cookie('izbr' );
      //console.log(izbr);
      if (izbr)
        izbr = izbr.split(',');
      else 
        izbr = [];
      
      if ( izbr.indexOf(sid) == -1 )
        izbr.push(sid);
      izbr = izbr.join(',');
      document.cookie = "izbr="+izbr+"; path=/; expires=01/01/2030 00:00:00"; 
    
    } 
    
    /*
    $(this).addClass('del_favor_action').removeClass('add_favor_action');
    var th = $(this);
    if (!th.hasClass('favor-add')) th = th.find('.favor-add');    
    th.attr('src', '/images/favor2.png');

    var cnt_span = $(this).find('.favor-count span');
    cnt_span.text(cnt_span.text()*1 + 1);
    */

    $('.favor-button[data-station_id='+sid+']').addClass('del_favor_action').removeClass('add_favor_action').attr('data-title', 'Убрать из избранного');
    $('.favor-add[data-station_id='+sid+']').addClass('del_favor_action').removeClass('add_favor_action').closest('.favor-button-wrapper').attr('data-title', 'Убрать из избранного');
    $('.favor-button[data-station_id='+sid+'] .favor-add').attr('src', '/images/favor2.png');
    $('.favor-add[data-station_id='+sid+']').attr('src', '/images/favor2.png');
    $('.favor-button[data-station_id='+sid+'] .favor-count span').text( $('.favor-button[data-station_id='+sid+'] .favor-count span').text()*1+1 );
  });

  $(document).on('focus', '.send-area textarea, .total-search-input, .search-input', function() {
    /*
    if ($(this).hasClass('not-auth')) {
      show_login();
      return false;
    } 
    */
    $(this).attr('data-ps', $(this).attr('placeholder'));
    $(this).attr('placeholder','');
  });
  $('.send-area textarea, .total-search-input, .search-input').blur(function() {
    $(this).attr('placeholder', $(this).attr('data-ps'));
  });

  $(document).on('keyup', '.send-area textarea', function() {
    
    var l = $(this).val().length;
    if ( l > 200 ) {
      $(this).val($(this).val().substr(0, 200));
      l = 200;
      //autosize($('.send-area textarea'));
    }
    $('.symbol-count').text(l);
    if (l>0) {
      $('.send-button').addClass('active');
      $('.send-button img').attr('src', '/images/send-comment.png');
    }
    else {
      $('.send-button').removeClass('active');
      $('.send-button img').attr('src', '/images/send-comment-gray.png');
    }
  });

  $(document).on('click', '.load-doc-button', function(){
    setTimeout(function() {
      $('.save-doc-button').css('display','inline-block');
    }, 500);
  })

  $(document).on('click', '.save-doc-button', function(){
    $('.station-doc-input').click();
  })

  $(document).on('change', '.station-doc-input', function(){
    var file = $(this).prop('files')[0];

    if( typeof file == 'undefined' ) return;
  
    var form_data = new FormData();
    //form_data.append('MAX_FILE_SIZE', 10000000);
	  form_data.append('document', file);
 
	  $.ajax({
      url: '/ajax',
      dataType: 'text',
      cache: false,
      contentType: false,
      processData: false,
      data: form_data,
      type: 'post',
      success: function(ans){
        $('.doc-load-error').hide();
        $('.doc-load-result').show();
        $('.station-doc').val(ans);
      },
      error: function( jqXHR, status, errorThrown ){
			  alert( 'ОШИБКА загрузки: ' + status, jqXHR );
		  }
    });
  })

  $(document).on('click', '.jq-radio.owner-check', function(){
    //alert($(this).hasClass('checked'));
    $('.jq-radio.owner-check').removeClass('error');
    $('.save-station-order').removeClass('error');
    $('.send-support').removeClass('error');
  });

  $(document).on('change', 'input.owner-check', function(){
    if (!$(this).hasClass('required'))
      $('.doc-toggle').toggle();
  });

  $(document).on('change', '#station-order-form select', function(){
    $(this).next().removeClass('error');
    $('.save-station-order').removeClass('error');
    $('.send-support').removeClass('error');
  });

  $(document).on('change', '.country-select', function() {
    $.ajax({
      url: '/ajax',
      data: {load_cities: $(this).val()},
      type: 'post',
      success: function(a) {
        $('select.city-select').removeAttr('disabled').empty().append(a).val('').trigger('change');
      }
    });
  })

  $(document).on('click', '.selected-genres .selected-genre', function() {
    $(this).remove();
  })

  $(document).on('change', 'select.genres-select', function(){
    if ($(this).val() == '') return;
    var genre = $(this).find('option:selected').text();
    var val = $(this).val();
    var need = true;
    $('.selected-genres .selected-genre').each(function () {
      //console.log('-=-=-=-', $(this).attr('data-genre'), val);
      if ($(this).attr('data-genre') == val) {
        need = false;
      }
    });
    if (need) {
      $('.selected-genres').append("<div class='selected-genre' data-genre='"+val+"'>"+genre+" <img alt='' src='/images/icon-delete-filter.png'></div>");
    }
    $(this).val('').trigger('change');
  })

  function validateEmail(email) {
  var pattern  = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return pattern.test(email);
  }

  $(document).on('click', '.save-station-order', function(){
    var able = true;

    $('.required').each(function() {
      if ($(this).hasClass('owner-check')) return;
      if ($(this).val()=='') {
       able = false;
       $(this).parent().find('.form-control').addClass('error').attr('placeholder', 'Заполните поле');
      }      
    })

    $('.valid-email').each(function(){
      if ( $(this).val() !='' && !validateEmail($(this).val()) ) {
        able = false;
        $(this).parent().find('.form-control').addClass('error');
      }
    })

    $('select.country-select, select.city-select').each(function() {
      //console.log('=========', $(this).val());
      if ($(this).val()=='' || $(this).val() === null) {
        able = false;
        $(this).next().addClass('error');
      }      
    })

    if ( $('.selected-genres .selected-genre').length == 0 ) {
      able = false;
      $('select.genres-select').next().addClass('error');
    } 

    if ( $('.jq-radio.owner-check').hasClass('required') && ! $('.jq-radio.owner-check').hasClass('checked') ) {
      able = false;
      //alert('!!!');
      $('.jq-radio.owner-check').addClass('error')
    }

    if ( $('.doc-toggle').length && $('.doc-toggle').is(':visible') && ! $('.doc-load-result').is(':visible') ) {
      able = false;
      $('.doc-load-error').show();
    }

    if ( $('.logo-link').val() == ''  && $('.station-logo').val() == '' ) {
      able = false;
      $('.logo-link').addClass('error').attr('placeholder', 'Загрузите фото или введите ссылку');
    }
     
     if (!able) {
       $('.save-station-order').addClass('error');
       return false
     }

    if ($('.change-list').length) {
      $('.change-in-list').each(function () {
         if(!$(this).hasClass('active')) {
           var field = $(this).attr('data-field');
           $('.'+field).val('');
         }
      })
    }

     var data = $('#station-order-form').serialize();

     //console.log (data); return false;

     if (!$('.change-list').length || $('.change-in-list[data-field=genres-select]').hasClass('active') ) {

       var cats = [];

       $('.selected-genres .selected-genre').each(function() {
         cats.push($(this).attr('data-genre'));
       })

       data = data + '&cats=' + cats.join(',');
     }
     
     $.ajax({
       url: '/ajax',
       data: data,
       type: 'post',
       success: function(ans) {
         load_page('/add_radio?success');
         //my_alert('Ваша заявкк отправлена')ж
       }
    });  

    return false;
  })

  $(document).on('click', '.send-support', function(){
    var able = true;

    $('.required').each(function() {
      if ($(this).val()=='') {
       able = false;
       $(this).parent().find('.form-control').addClass('error').attr('placeholder', 'Заполните поле');
      }      
    })
     
     if (!able) {
       $('.send-support').addClass('error');
       return false
     }

     var data = $('#send-support-form').serialize();

     //console.log (data); return false;
       var images = [];

       $('.loaded-files .loaded-file').each(function() {
        images.push($(this).attr('data-file'));
       })

       data = data + '&images=' + images.join(',');
     
     $.ajax({
       url: '/ajax',
       data: data,
       type: 'post',
       success: function(ans) {
         //load_page('/mail.html?success');
         my_alert('Your message sent', 'success');
         $('select.mail-type-select').val('');
         $('select.mail-type-select').select2({minimumResultsForSearch: -1, language: "ru", width:'100%'});
         $('.ajax-form-inner').empty();
       }
    });  

    return false;
  })

  $(document).on('click', '.info-button', function() {
    $('.info-drop-block').hide();
    $(this).next().show();
  })

  $(document).on('click', '.pagination-wrapper > .pagination > .active', function() {

    $('.mobile-pagination-wrapper').addClass('open');
  })

  $(document).on('click', '.info-drop-block-close', function() {
    $('.info-drop-block').hide();
  })

  $(document).on('click', '.load-screenshots-button', function(){
    $('.screenshots-input').click();
  })

  $(document).on('click', '.station-logo-button', function(){
    $('.station-logo-input').click();
  })

  $(document).on('change', '.screenshots-input', function(){
    var files = $(this).prop('files');

    if( files.length == 0 ) return;

    if (files.length + $('.loaded-file').length > 3) {
      my_alert ('Max 3 images', 'fail' );
      return;
    }

    for (var i=0; i<files.length; i++) {

    var file = files[i];
    var form_data = new FormData();
    //form_data.append('MAX_FILE_SIZE', 10000000);
	  form_data.append('screenshot', file);
 
	  $.ajax({
      url: '/ajax',
      dataType: 'text',
      cache: false,
      contentType: false,
      processData: false,
      data: form_data,
      type: 'post',
      success: function(ans){
        ans = ans.split('###');
        $('.loaded-files').append("<div class='loaded-file' data-file='"+ans[1]+"'>" + ans[0] + " <img alt='' src='/images/icon-delete-filter.png'></div>");
        /*var lfs = $('.screenshots').val();
        lfs = lfs.split(',');
        lfs.push(ans[1]);
        lfs = lfs.join(',');
        $('.screenshots').val(lfs);
        */
      },
      error: function( jqXHR, status, errorThrown ){
			  my_alert( 'LOADING ERROR: ' + status, jqXHR, 'fail' );
		  }
    });
    }
  })

  $(document).on('click', '.loaded-file', function(){
    $(this).remove();
  })

  $(document).on('change', '.station-logo-input', function(){
    var file = $(this).prop('files')[0];

    if( typeof file == 'undefined' ) return;
  
    var form_data = new FormData();
    //form_data.append('MAX_FILE_SIZE', 10000000);
	  form_data.append('logo', file);
 
	  $.ajax({
      url: '/ajax',
      dataType: 'text',
      cache: false,
      contentType: false,
      processData: false,
      data: form_data,
      type: 'post',
      success: function(ans){
        $('.station-logo-result').attr('src', '/images/stations/'+ans);
        $('.station-logo').val(ans);
        $('.logo-link').removeClass('error').attr('placeholder', '');
        $('.save-station-order').removeClass('error');
        $('.send-support').removeClass('error');
      },
      error: function( jqXHR, status, errorThrown ){
			  alert( 'ОШИБКА загрузки: ' + status, jqXHR );
		  }
    });
  })

  $(document).on('keyup', '.station-description', function() {
    var left = 1500 - $(this).val().length;
    $('.symbol-counter span').text(left);
  })

  $(document).on('change', '.logo-link', function(){
    if ( $(this).val() != '' ) {
      $.ajax({
      url: '/ajax',
      data: {load_link:$(this).val()},
      type: 'post',
      success: function(ans){
        if (ans.length > 5) {
          $('.station-logo-result').attr('src', '/images/stations/'+ans);
          $('.station-logo').val(ans);
          $('.logo-link').removeClass('error').attr('placeholder', '');
          $('.save-station-order').removeClass('error');
          $('.send-support').removeClass('error');
        } else {
          $('.station-logo-result').attr('src', '/images/add-ststion-default-logo.png');
          $('.station-logo').val('');
          $('.logo-link').addClass('error').attr('placeholder', 'Изображение не найдено');
        }
      },
      error: function( jqXHR, status, errorThrown ){
			  $('.station-logo-result').attr('src', '/images/add-ststion-default-logo.png');
        $('.station-logo').val('');
        $('.logo-link').addClass('error').attr('placeholder', 'Ошибка загрузки');
		  }
    });
    } else {
        $('.station-logo-result').attr('src', '/images/add-ststion-default-logo.png');
        $('.station-logo').val('');
        $('.logo-link').removeClass('error').attr('placeholder', '');
        $('.save-station-order').removeClass('error');
        $('.send-support').removeClass('error');
		}
  })

  

  function set_filter () {
    var genres = [], countries = [];

    $('.filter-more-block .cat-in-list.active').each(function() {
       if ($(this).attr('data-filter-type') == 'genres') {
         genres.push($(this).attr('data-filter-id'));
       } else {
        countries.push($(this).attr('data-filter-id'));
       }
     })

     genres = genres.join(',');
     countries = countries.join(',');
     
     return ( genres != '' ? '&genres=' + genres : '' ) + ( countries != '' ? '&countries=' + countries : '' );
  }


  $(document).on('click', '.ordering-button', function() {
   
    if ( $(this).hasClass('active') ) return;

    var order = $(this).attr('data-order');
    var filter = $('.filter-select').length && $('.filter-select').val() != 0 ? '&filter=' + $('.filter-select').val() : '';

    var search = $('.search-input').val() != '' ? '&search='+encodeURI($('.search-input').val()) : '';
    var filter = set_filter();
     
    $('.ordering-button').removeClass('active');
    $(this).addClass('active');
    
    var url = document.location.href.split('?')[0]+'?order='+order+filter+search;

    $('.station-list-ajax-wrapper').load( url + ' .station-list-ajax', function() {
      lazyload();
      header_cat_check();
      cards_cat_check(); 
      history.pushState(null, null, url);
    });

  });
/*
  $(document).on('change', '.filter-select', function(){
     
   var order = $('.ordering-button.active').attr('data-order');
   var filter = $(this).val() != 0 ?  '&filter=' + $('.filter-select').val() : '';

   var url = document.location.href.split('?')[0]+'?order='+order+filter;

   $('.station-list-ajax-wrapper').load( url +' .station-list-ajax', function() {
      lazyload();
      history.pushState(null, null, url);
    });

 });
*/
   var search_keyup_timer;
   $(document).on('keyup', '.search-input', function() {

    var th = $(this);
    clearTimeout(search_keyup_timer);
    search_keyup_timer = setTimeout( function() {

      $('#overflow').show();
     $('.ajax-big-loader').show();
     var search = th.val() != '' ? '&search='+encodeURI($('.search-input').val()) : '';

     var order = $('.ordering-button.active').attr('data-order');
     var filter = set_filter();

     var url = document.location.href.split('?')[0]+'?order='+order+filter+search;

     $('#overflow').show();
     $('.ajax-big-loader').show();

     var input = document.querySelector('.search-input');
     var startPosition = input.selectionStart;
     var endPosition = input.selectionEnd;
     

     $('.station-list-ajax-wrapper').load( url +' .station-list-ajax', function() {
        lazyload();
        history.pushState(null, null, url);
        header_cat_check();
        cards_cat_check();
        
        var input = document.querySelector('.search-input');
        if (input) {
          input.focus();
          input.selectionStart = startPosition;
          input.selectionEnd = endPosition;
        }

        $('#overflow').hide();
        $('.ajax-big-loader').hide();
     });
    }, 1000);
   })


   $(document).on('click', '.filter-selector .cat-in-list, .active-filter', function(){

     var type = $(this).attr('data-filter-type');
     var id = $(this).attr('data-filter-id');
     
     if ($('.action_id').val() == 'index') {
      $('.filter-selector .cat-in-list').removeClass('active');
      $('.filter-selector .cat-in-list[data-filter-type='+type+'][data-filter-id='+id+']').addClass('active')
      $('.genres-list.filter-selector.filter-selector-top .cat-in-list[data-filter-type='+type+'][data-filter-id='+id+']').prependTo('.genres-list.filter-selector.filter-selector-top');
      $('.filter-selector .cat-in-list[data-filter-type='+type+'][data-filter-id=0]').prependTo('.genres-list.filter-selector.filter-selector-top');
     } else {
       $('.filter-selector .cat-in-list[data-filter-type='+type+'][data-filter-id='+id+']').toggleClass('active');
     }

     var order = $('.ordering-button.active').attr('data-order');
     var search = $('.search-input').length && $('.search-input').val() != '' ? '&search='+encodeURI($('.search-input').val()) : '';
     var filter = set_filter();

     var url = order ? document.location.href.split('?')[0]+'?order='+order+filter+search:
                       document.location.href.split('?')[0]+'?'+filter.replace('&', '')+search;
  
     $('.station-list-ajax-wrapper').load( url +' .station-list-ajax', function() {
        lazyload();
        header_cat_check();
        cards_cat_check();
        history.pushState(null, null, url);
      });

   });

 $(document).on('click', '.more-filter-open', function() {
   $('.filter-more-block').toggle();
   $(this).toggleClass('open');
   return false;
 })

 $(document).on('click', '.filter-more-block-closer', function() {
  $('.filter-more-block').hide();
  $('.more-filter-open').removeClass('open');
 })


 $(document).on('click', '.country-sort-item', function() {
   $('.country-sort-item').removeClass('active');
   $(this).addClass('active');
   if ($(this).attr('data-sort') == 'popular') {
     $('.dropdown-country-list .genge-link').sort(function (a, b) {
       return parseInt($(a).attr('data-pop'), 10) < parseInt($(b).attr('data-pop'), 10) ? -1: 1;
     }).appendTo('.dropdown-country-list .dropdown-list-inner');
   } else if ($(this).attr('data-sort') == 'alpha') {
    $('.dropdown-country-list .genge-link').sort(function (a, b) {
       return $(a).text() < $(b).text() ? -1: 1;
     }).appendTo('.dropdown-country-list .dropdown-list-inner');
   }
 })

 $(document).on('click', '.genre-sort-item', function() {
   $('.genre-sort-item').removeClass('active');
   $(this).addClass('active');
   if ($(this).attr('data-sort') == 'popular') {
     $('.dropdown-genres-list .genge-link').sort(function (a, b) {
       return parseInt($(a).attr('data-pop'), 10) < parseInt($(b).attr('data-pop'), 10) ? -1: 1;
     }).appendTo('.dropdown-genres-list .dropdown-list-inner');
   } else if ($(this).attr('data-sort') == 'alpha') {
    $('.dropdown-genres-list .genge-link').sort(function (a, b) {
       return $(a).text() < $(b).text() ? -1: 1;
     }).appendTo('.dropdown-genres-list .dropdown-list-inner');
   }
 })

 var search_keyup_timer1;

 $(document).on('keyup', '.country-search', function() {
   var search = $(this).val().toLowerCase();
   var th = $(this);

   clearTimeout(search_keyup_timer1);
   search_keyup_timer1 = setTimeout( function() {
    if (search == '') {
      $('.dropdown-country-list .genge-link').show();
    } else {
      $('.dropdown-country-list .genge-link').each(function(){
        if ($(this).text().toLowerCase().indexOf(search) != -1) {
          $(this).show();
        } else {
          $(this).hide();
        }
      });
    }
    country_control_check ();
   }, 500);
 })

 $(document).on('keyup', '.genre-search', function() {
   var search = $(this).val().toLowerCase();
   var th = $(this);

   clearTimeout(search_keyup_timer1);
   search_keyup_timer1 = setTimeout( function() {
    if (search == '') {
      $('.dropdown-genres-list .genge-link').show();
    } else {
      $('.dropdown-genres-list .genge-link').each(function(){
        if ($(this).text().toLowerCase().indexOf(search) != -1) {
          $(this).show();
        } else {
          $(this).hide();
        }
      });
    }
    genres_control_check ();
   }, 500);
 })

 $(document).on('keyup', '.total-search-input', function() {

    var search = $(this).val();
    var th = $(this);
    
    if(event.keyCode==13) {
      if ( search != '' )
        load_page ('/radiostations?search='+encodeURIComponent(search), true);
    }

    clearTimeout(search_keyup_timer1);
    search_keyup_timer1 = setTimeout( function() {

    if (th.val() == '') {
      $('.total-search-results').empty();
    } else {
      $('#overflow').show();
      $('.ajax-big-loader').show();
      $.ajax({
        url: '/ajax',
        data: { total_search: th.val() },
        type: 'post',
        success: function(ans) {   
          $('.total-search-results').empty().append(ans);
          $('.total-search-results').niceScroll({autohidemode: false, cursorborder: 'none', cursorwidth:9, cursorcolor:'rgb(223,223,223)'});
          cards_cat_check();
          lazyload();
          $('body').addClass('notscroll');
          $('#overflow').hide();
          $('.ajax-big-loader').hide();
        }
      });      
    }
    }, 1000);
  });


  $(document).on('keyup', '.search_station_name', function() {

var search = $(this).val();
var th = $(this);

clearTimeout(search_keyup_timer1);
search_keyup_timer1 = setTimeout( function() {

if (th.val() == '') {
  $('.dropdown-search-list').empty().text('Ничего не найдено');
} else {
  $('#overflow').show();
  $('.ajax-big-loader').show();
  $.ajax({
    url: '/ajax',
    data: { order_search: th.val() },
    type: 'post',
    success: function(ans) {   
      $('.dropdown-search-list').empty().append(ans);
      $('.dropdown-search-list').show();
      $('#overflow').hide();
      $('.ajax-big-loader').hide();
    }
  });      
}
},700);
});

$(document).on('click', '.dropdown-search-list .mini-station-in-list', function() {
  $('.dropdown-search-list').hide();
  $('.search_station_name').parent().remove();
  var card = $(this).clone();
  $('.change-list').prepend(card).show();
  $('.ajax-form-wrapper').load('/edit-radio?order=' + $(this).attr('data-station-id') + ' .ajax-form-inner', function(){
    $('.add-radio-form-select').select2({maximumSelectionLength: 2, language: "ru", width:'33%'});
  })
})

var mint;
$(document).on('mouseover', '.history-song', function(el) {
  var tth = $(this)[0];
  if ( tth.scrollWidth > tth.offsetWidth ) {
  var i = 0;
  var th = $(this).find('.b');
  clearInterval(mint);
  mint = setInterval( function() { 
    ++i;
    th.css('marginLeft', -i+'px');
  }, 70);
  }
})

$(document).on('mouseout', '.history-song', function() {
  clearInterval(mint);
  $(this).find('.b').css('marginLeft', '0px');
})

$(document).on('change', '.mail-type-select', function(){
  $('.ajax-form-inner').empty();
  $('.ajax-form-wrapper').load('/mail.html?type=' + $(this).val() + ' .ajax-form-inner', function(){
    $('.form-item').show();
  })  
})

$(document).on('click', '.change-in-list', function() {
  $(this).toggleClass('active');
  var field = $(this).attr('data-field');
  if (field == 'station-logo-input') {
    $('.load-logo-block').toggle();
  } else if ( field == 'genres-select' || field == 'country-select' || field == 'city-select') {
    var b = $('select.'+field).next();
    if (b.is(':visible')) {
      b.hide();
    } else {
      b.css('display', 'inline-block');
    }
    if (field == 'genres-select') {
      $('.selected-genres').toggle();
    }
    if (field == 'country-select' && $(this).hasClass('active')) {
      if (!$('.change-in-list[data-field=city-select]').hasClass('active')) {
        $('.change-in-list[data-field=city-select]').click();
      }
    }
    if ($('.change-in-list.selbuttons.active').length > 0) {
      $('.select-block').show();
    } else {
      $('.select-block').hide();
    }
  } else {
    $('.'+field).closest('.form-item').toggle();
    
    if ($(this).hasClass('active') && field == 'station-site') {
      $('.'+field).addClass ('required');
    } else {
      $('.'+field).removeClass ('required');
    }
  }

  if ( $('.change-in-list.active').length > 0 ) {
    $('.document-block').show();
  } else {
    $('.document-block').hide();
  }
})

$('.need-cover').each(function(){
    var th = $(this);
    if (th.attr('data-cover') != ' - ') {
            $.ajax({
              url: 'https://itunes.apple.com/search',
              crossDomain: true,
              dataType: 'jsonp',
              data: {
                term: th.attr('data-cover'),
                entity: 'song',
                limit: 1,
                explicit: 'No'
              },
              method: 'GET',
              success: function(data){
                if (data.results[0] !== undefined) {
                  var logo = data.results[0].artworkUrl100.replace('100x100','200x200');
                  th.attr('src', logo ? logo : '');
                } 
              }
            }); 
    } 
  }) 


  $(document).on('click', '.load-avatar', function(){
    $('.load-avatar-input').click();
  });

  $(document).on('click', '.delete-avatar', function(){
    $.ajax({
        url: '/ajax',
        data: { delete_avatar: 1 },
        type: 'post',
        success: function(ans) {   
          $('.user-settings-avatar').attr('src', '/images/users/default-profile-1.png');
          $('.header-dropdown-menu .avatar img').attr('src', '/images/users/default-profile-1.png');
          $('.right-part-header .login-user-img').attr('src', '/images/nouser.png');
          $('.load-avatar').text('Загрузить фото');
          $('.delete-avatar').hide();
        }
      });
  });

  $(document).on('change', '.load-avatar-input', function(){
    var file = $(this).prop('files')[0];

    if( typeof file == 'undefined' ) return;
  
    var form_data = new FormData();
    //form_data.append('MAX_FILE_SIZE', 10000000);
	  form_data.append('avatar', file);
 
	  $.ajax({
      url: '/ajax',
      dataType: 'text',
      cache: false,
      contentType: false,
      processData: false,
      data: form_data,
      type: 'post',
      success: function(ans){
        $('.user-settings-avatar').attr('src', '/images/users/'+ans);
        $('.header-dropdown-menu .avatar img').attr('src', '/images/users/'+ans);
        $('.right-part-header .login-user-img').attr('src', '/images/users/'+ans);
        $('.load-avatar').text('Обновить фото');
        $('.delete-avatar').show();
      },
      error: function( jqXHR, status, errorThrown ){
			  alert( 'ОШИБКА загрузки: ' + status, jqXHR );
		  }
    });
  });


  $(document).on('click', '.save-profile', function(){

      if ( $('.emeil-settings').val() == '' || $('.username-settings').val() == '' ) {
        my_alert ('Enter a value', 'fail');
        return;
      }
  
      $.ajax({
        url: '/ajax',
        data: { save_profile: $('.emeil-settings').val(), username: $('.username-settings').val() },
        type: 'post',
        success: function(ans) {   
          if (ans.length > 5) {
            ans = ans.split('#');
            my_alert (ans[0], ans[1]);
          } else {
            my_alert ('Profile saved', 'success');
          }
        }
      });

  });

  $(document).on('click', '.send-email', function(){
    if ( $('.emeil-settings').val() == '' || $('.name-settings').val() == '' ||  $('textarea.form-control').val() == '' ) {
        my_alert ('Enter a value', 'fail');
        return;
    }
    
    if(! $('.emeil-settings')[0].checkValidity() ) {
      my_alert ('Enter the correct email', 'fail');
        return;
    }

    $.ajax({
      url: '/ajax',
      data: { send_email: $('.emeil-settings').val(), username: $('.name-settings').val(), message: $('textarea.form-control').val()},
      type: 'post',
      success: function(ans) {  
        my_alert ('Email sended', 'success');
        $('textarea').val('');
      }
    });
  });

  
  $(document).on('click', '.delete-profile-confirm', function(){
    $.ajax({
      url: '/ajax',
      data: { delete_profile: $('.current-password').val() },
      type: 'post',
      success: function(ans) {
        if (ans.length > 5) {
          ans = ans.split('#');
          my_alert (ans[0],ans[1]);
        } else {
          load_page(document.location.href, false);
          my_alert('Profile successfully deleted', 'success');
        }
        $('#deleteprofileBox').modal('hide');
      }
    });
  });

  $(document).on('click', '.reply a.comment-text', function(){
    $.ajax({
      url: '/modal',
      data: { modal: '#dialogBox', comment_id: $(this).attr('data-comment_id') },
      type: 'post',
      success: function(ans) {
        $('#dialogBox').empty().append(ans);
        $('#dialogBox').modal('show');
      }
    });
    return false;
  });


  $(document).on('click', '.save-setting', function(){
/*
    if ( $('.old-password-settings').val() == '' ) {
      my_alert ('Enter current password', 'fail');
      return;
    }
*/
    if ($('.jq-checkbox.delete-profile-input').hasClass('checked')) {
      $('.current-password').val($('.old-password-settings').val());  
      $('#deleteprofileBox').modal('show');
      return;
    }


    if ( $('.emeil-settings').val() == '' || $('.username-settings').val() == '' ) {
          my_alert ('Enter your profile details', 'fail');
          return;
        }

  
  if ( $('.new-password-settings').val() != '') {
  if ( $('.new-password-settings-repeat').val() == '' ) {
    my_alert ('Repeat password', 'fail');
    return;
  }

  if ( $('.new-password-settings-repeat').val() != $('.new-password-settings').val() ) {
    my_alert ('Passwords not equal', 'fail');
    return;
  }

  $.ajax({
    url: '/ajax',
    data: { save_password: $('.new-password-settings').val(), old_password: $('.old-password-settings').val() },
    type: 'post',
    success: function(ans) {   
      if (ans.length > 5) {
        ans = ans.split('#');
        my_alert (ans[0],ans[1]);
      } else {
        if ( $('.emeil-settings').val() == '' || $('.username-settings').val() == '' ) {
          my_alert ('Enter your profile details', 'fail');
          return;
        }
  
      $.ajax({
        url: '/ajax',
        data: { save_profile: $('.emeil-settings').val(), username: $('.username-settings').val(), old_password: $('.new-password-settings').val() },
        type: 'post',
        success: function(ans) {   
          if (ans.length > 5) {
            ans = ans.split('#');
            my_alert (ans[0], ans[1]);
          } else {
            my_alert ('Profile saved', 'success');
          }
        }
      });
      }
    }
  });
  } else {
  
      $.ajax({
        url: '/ajax',
        data: { save_profile: $('.emeil-settings').val(), username: $('.username-settings').val(), old_password: $('.old-password-settings').val() },
        type: 'post',
        success: function(ans) {   
          if (ans.length > 5) {
            ans = ans.split('#');
            my_alert (ans[0], ans[1]);
          } else {
            my_alert ('Profile saved', 'success');
          }
        }
      });
  }

});

$(document).on('click','.comment-form-opener', function() {
  $(this).hide();
  $('.new-comment').show();
});

$(document).on('click', '.history-item', function() {
  var th = $(this).find('.history-dropdown-button').next();
  var hi = $(this);
  $('.history-item').not(hi).removeClass('open-menu');
  $('.history-dropdown').not(th).hide();
  th.toggle();
  hi.toggleClass('open-menu');
});

function Capitalize(str){
    var arr1 = str.split(" - ");
    var arr = arr1[0].split(' ');
    for(var i = 0; i< arr.length; i++)
    {
    arr[i] = arr[i].charAt(0).toUpperCase() + arr[i].slice(1);
    }
    arr1[0] = arr.join(" ");
    arr1[1] = arr1[1].charAt(0).toUpperCase() + arr1[1].slice(1);

    return arr1.join(' - ');
} 

$(document).on('click','.history-copy', function() {
  $(this).closest('.history-dropdown').hide();
  $(this).closest('.history-item').removeClass('open-menu');
  var text = $(this).closest('.history-item').find('.history-song').text();
  text = Capitalize(text.replaceAll('  ', ' ').trim());
  navigator.clipboard.writeText( text )
      .then(() => {
        my_alert('Copied', 'success');
  });
});

$(document).on('click','.history-dropdown a', function() {
  $(this).closest('.history-dropdown').hide();
  $(this).closest('.history-item').removeClass('open-menu');
});

  $(document).on('click', '.send-button.active', function() {
    $(this).removeClass('active');
    if ($('.new-comment-text').val() == '') {
      my_alert ('Empty comment text', 'fail');
      return false;
    }

    if ($('.user_id').val() == 0 && $('.user_name').val() == '') {
      my_alert ('Enter your name', 'fail')
      $(this).addClass('active');
      return false;
    }

      $.ajax({
        url: '/ajax',
        data: { 
          send_comment: $('.new-comment-text').val(),
          user_name: $('.user_name').val(),
          station_id: $(this).attr('data-station_id'), 
          reply_id: $('.new-comment-text').attr('data-reply_id')
        },
        type: 'post',
        success: function(ans) {   
           if ( ans.indexOf('######') != -1 ) {
             my_alert ( ans.split('######')[0], ans.split('######')[1] );
             $('.send-button').addClass('active');
             if (ans.split('######')[1] == 'success') {
               $('.new-comment-text').val('').attr('data-reply_id', 0);
               $('.new-comment .reply').hide();
               $('.send-button img').attr('src', '/images/send-comment-gray.png');               
             }
           } else {
             $('.comments-list').prepend(ans);
             $('.new-comment-text').val('').attr('data-reply_id', 0);
             $('.new-comment .reply').hide();
             topSc = $('.comments-list-wrapper').prop('scrollHeight');
             $('.comments-list-wrapper').scrollTop(topSc);
             $('.send-button img').attr('src', '/images/send-comment-gray.png');
           }
        }
      });

  });
/*
  $(document).on('scroll', '.comments-list-wrapper', function () {
    topSc = $(this).scrollTop();
    console.log(topSc);
  });
*/
  $(document).on('click', '.bottom-menu-button', function() {
    $('.copy-title-button, .ytube-search-button').toggle();
  });

  $(document).on('click', '.copy-title-button', function() {
      navigator.clipboard.writeText( $('.bottom-player .song-title').eq(0).text() + ' - ' + $('.bottom-player .song-artist').eq(0).text())
      .then(() => {
        my_alert('Copied', 'success');
      });
  });

  $(document).on('click', '.ytube-search-button', function() {
    var search = encodeURI ( $('.bottom-player .song-artist').text() );

    window.open( 'https://www.youtube.com/results?search_query=' + search, '_blank');
  });

  $(document).on('click', '.button-reply', function (){
    /* if ( $('.user_id').val() == 0 ) {
      show_login ();
    } else { */
      var c = $(this).closest('.comment-in-list');

      $('.comment-form-opener').hide();
      $('.new-comment').show();

      $('.new-comment .reply .comment-data-user').text( c.find('.comment-data .comment-data-user.main-data').text() );
      $('.new-comment .reply .comment-data-date').text( c.find('.comment-data .comment-data-date.main-data').text() );
      $('.new-comment .reply .comment-text').text( c.find('.comment-in-list-wrapper .comment-text.main-data .main-text').text() );
      $('.new-comment .reply .comment-in-list-avatar').attr( 'src', c.find('.comment-in-list-avatar.main-data').attr('src') );
      $('.new-comment .reply').show();

      $('.new-comment-text').attr('data-reply_id', c.attr('data-comment_id')).focus();
    //}
  });

  $(document).on('click', '.reply-close', function (){

      $('.new-comment .reply').hide();
      $('.new-comment-text').attr('data-reply_id', 0 ).focus();

  });

  $(document).on('click', '.comment-dropdown-menu-button', function() {
    $('.comment-dropdown-menu-button').not($(this)).closest('.comment-dropdown-menu').find('.comment-dropdown-menu-list').hide();
    $(this).closest('.comment-dropdown-menu').find('.comment-dropdown-menu-list').toggle();
  });

  $(document).on('click', '.abuse-comment', function(){
    $(this).closest('.comment-dropdown-menu').find('.comment-dropdown-menu-list').hide();
    $.ajax({
      url: '/ajax',
      data: { send_abuse : $(this).attr('data-comment_id')},
      type: 'post',
      success: function(ans) {  
        my_alert ('The complaint send', 'success');
      }
    });
  })


  $(document).on('click', '.delete-comment', function(){

      var th = $(this);

      $(this).closest('.comment-dropdown-menu').find('.comment-dropdown-menu-list').hide();
  
      $.ajax({
        url: '/ajax',
        data: { delete_comment: th.attr('data-comment_id'), station_id: th.attr('data-station_id') },
        type: 'post',
        success: function(ans) {   
          $('.comments-list-wrapper').load( document.location.href + ' .comments-list');
        }
      });
  });

  $(document).on('click', '.more-history-item', function() {
    $('.history-item').removeClass('only-desctop');
    $(this).hide();
  })

  $(document).on('click', '.soc-share-mobile', function() {
    $('.soc-share').toggleClass('mobile-hidden');
  })

  $(document).on('click', '.rating-block-button', function() {
    $('.rating-block').toggleClass('mobile-show');
  })

  $(document).on('click', '.show-mobile-comment-form', function() {
    $('.new-comment').show();
    $(this).hide();
  })

  $(document).on('click','.ajax-load-more', function() { 
    var th = $(this);
    th.addClass('loader');
    var th = $(this);
    th.addClass('waiting-load');
    var objects = $('<div/>');
    objects.load( $(this).find('a').attr('href') + ' .station-list-ajax', function() {
      th.closest('.row').remove();
      //console.log(objects);
      objects.find('.col-md-five').appendTo('.station-list-ajax');
      objects.find('.row').appendTo('.station-list-ajax');

      lazyload();
      cards_cat_check();
/*      
      (adsbygoogle = window.adsbygoogle || []).push({});
      (adsbygoogle = window.adsbygoogle || []).push({});
      (adsbygoogle = window.adsbygoogle || []).push({});
*/     
      //$('html').getNiceScroll().resize();

      th.removeClass('loader');
    });
    return false;
  });

  $(document).on('click','.similar-station-button', function() { 
    var th = $(this);
    th.addClass('loader');
    $.ajax({
      url: '/ajax',
      data: { similar_station: th.attr('data-catlist'), start: th.attr('data-start'), station_id: th.attr('data-station_id') },
      type: 'post',
      success: function(ans) {
        if (ans.length) {
          ans = ans.split('######');
          $('.stations-list-wrapper.similar-station-block .stations-list-inner').append(ans[0]);
          lazyload();
          cards_cat_check();
          if (ans.length > 1) {
            $('.similar-station-button').attr('data-start', $('.similar-station-button').attr('data-start')*1 + 8);
          } else {
            $('.similar-station-button').hide();
          }
          th.removeClass('loader');
        }
      }
    });
    return false;
  });

  $(document).on('click', '.vk-auth', function() {
    document.location.href = '/vk_auth.php';
  });

  $(document).on('click', '.ok-auth', function() {
    document.location.href = '/ok_auth.php';
  });

  $(document).on('click', '.fb-auth', function() {
    document.location.href = '/fb_auth.php';
  });


  cards_cat_check();
  genres_control_check ();

  $.ajax({
      url: '/emoj',
      type: 'post',
      success: function(e) {
        $('.emojiPicker').append(e);
        console.log (emojis.length);
        setTimeout ( function() {
          for ( var i = 0; i < emojis.length; i++ ) {
            $('.emojiPicker').find('.sections .emoji[smile="emoji-'+emojis[i].name+'"]').text( toUnicode(emojis[i].unicode['apple']) );
            if (emojis[i].name == 'plus1') {
               console.log ('-----', toUnicode(emojis[i].unicode['apple']) );
            }
          }
        }, 500 );
      }
  });

  function updatePosition ($el) {
    
    var $picker = $('.emojiPicker');


    var positionedParent = $picker.offsetParent();
    var parentOffset = positionedParent.offset(); // now have a top/left object

    // Step 2
    var elOffset = $el.offset();
    elOffset.top += $el.outerHeight();

    var diffOffset = {
        top: (elOffset.top - parentOffset.top),
        left: (elOffset.left - parentOffset.left)
      };
    
    $picker.css({
      top: diffOffset.top,
      left: diffOffset.left
    });

    return;
  }
  
  
  $(document).on('click', '.smile-button', function() { 
  
    //if ($('.user_id').val() != 0) {
      updatePosition ($(this));
      $('.emojiPicker').toggle();
    /*
    } else {
        show_login();
        return false;
    }
    */
  });
  
  $(document).on('click', '.emojiPicker .tab', function(e) {
    var section = '';
    var $picker = $('.emojiPicker');
    // Update tab
    $picker.find('nav .tab').removeClass('active');
    if ($(e.target).parent().hasClass('tab')) {
      section = $(e.target).parent().attr('data-tab');
      $(e.target).parent('.tab').addClass('active');
    }
    else {
      section = $(e.target).attr('data-tab');
      $(e.target).addClass('active');
    }

    var $section = $picker.find('section.' + section);

    var heightOfSectionsHidden = $section.parent().scrollTop();
    var heightOfSectionToPageTop = $section.offset().top;
    var heightOfSectionsToPageTop = $section.parent().offset().top;

    var scrollDistance = heightOfSectionsHidden
                         + heightOfSectionToPageTop
                         - heightOfSectionsToPageTop;

    $('.sections').off('scroll'); // Disable scroll event until animation finishes

    var that = this;
    $('.sections').animate({
      scrollTop: scrollDistance
    }, 250, function() {
      $picker.find('.sections').on('scroll', $.proxy(that.emojiScroll, that) ); // Enable scroll event
    });
  });
  
  $(document).on('scroll', '.emojiPicker', function(e) {
    var sections = $('section');
    $.each(sections, function(key, value) {
      var section = sections[key];
      var offsetFromTop = $(section).position().top;

      if (offsetFromTop <= 0) {
        $(section).parents('.emojiPicker').find('nav .tab').removeClass('active');
        $(section).parents('.emojiPicker').find('nav .tab[data-tab=' + section.className + ']').addClass('active');
      }
    });
  });
  
  function findEmoji(emojiShortcode) {
    for (var i = 0; i < emojis.length; i++) {
      if (emojis[i].shortcode == emojiShortcode) {
        return emojis[i];
      }
    }
  }

  var endSelection = 0;


  
  function insertAtCaret(myValue) {
    $('.new-comment-text').val($('.new-comment-text').val() + myValue);
    var l = $('.new-comment-text').val().length;
    if ( l > 200 ) {
      $('.new-comment-text').val($('.new-comment-text').val().substr(0, 200));
      l = 200;
    }
    $('.symbol-count').text(l);
    if (l>0) {
      $('.send-button').addClass('active');
      $('.send-button img').attr('src', '/images/send-comment.png');
    }
    else {
      $('.send-button').removeClass('active');
      $('.send-button img').attr('src', '/images/send-comment-gray.png');
    }
  }
  
  
  function toUnicode(code) {
    var codes = code.split('-').map(function(value, index) {
      return parseInt(value, 16);
    });
    //console.log(String.fromCodePoint.apply(null, codes));
    return String.fromCodePoint.apply(null, codes);
  }

  $(document).on('click', '.emojiPicker div.wrap > div', function(e) {
    
    var emojiSpan = $(e.target);

    var emojiShortcode = emojiSpan.attr('smile').split('emoji-')[1];
    var emojiUnicode = toUnicode(findEmoji(emojiShortcode).unicode['apple']);

    insertAtCaret(emojiUnicode);
    
    //$('.emojiPicker').hide();
    
    // For anyone who is relying on the keyup event
    /*
    $(this.element).trigger("keyup");

    // trigger change event on input
    var event = document.createEvent("HTMLEvents");
    event.initEvent("input", true, true);
    this.element.dispatchEvent(event);  
    */  
  });


  if ( $('.station_id').val() != 0) {
      $('head').prepend('<link rel="stylesheet" type="text/css" href="/css/jquery.emojipicker.css">');
      load_css = false;
  }

  $(document).on('click','.soc-share-opener', function() {
    $('.soc-share').show();
  });

  //$('modal').modal({backdrop: 'static', keyboard: false});
/*
  $(document).scroll(function() {
    if($(this).scrollTop() > 300) {
      $('#rightad').css('top', '300px');
    } else {
      $('#rightad').css('top', '22px');
    }
  })
*/

  load_page_scripts();
})

</script>

</body>
</html>
